{"version":3,"sources":["Adapter.js","components/Navbar.js","components/FocusList.js","components/Card.js","components/CardContainer.js","components/AutoSearch.js","components/SearchForm.js","components/Home.js","components/Login.js","components/Signup.js","components/Trades.js","components/BuySellForm.js","components/StockList.js","components/StockChart.js","components/ChartContainer.js","Utility.js","components/Portfolio.js","components/MainChart.js","components/RangePicker.js","components/MainChartContainer.js","components/Container.js","App.js","serviceWorker.js","index.js"],"names":["backendUrl","handleErrors","response","ok","Error","statusText","json","fetchStockQuote","symbol","fetch","fetchBatchQuote","symbols","sendTrade","trade","userID","token","url","config","method","headers","Authorization","Content-Type","Data-Type","body","JSON","stringify","chartRange","getChart","range","arguments","length","undefined","indexOf","toLowerCase","concat","Navbar","handleItemClick","e","_ref","name","_this","props","handleMenu","displayButtons","activeItem","login","react_default","a","createElement","Menu","Item","position","Button","active","onClick","color","style","marginLeft","logout","userName","handleLogout","this","Segment","inverted","pointing","secondary","Component","FocusList","generateTables","colorCell","value","Table","Cell","negative","positive","stocks","map","change","changePercent","latestPrice","percent","toFixed","toString","Row","key","Date","now","Header","HeaderCell","Body","StockCard","data","_this$props$data$quot","quote","companyName","avgTotalVolume","high","low","arrow","fontColor","Card","fluid","Content","Icon","Meta","Description","extra","CardContainer","console","log","etfs","Grid","columns","Column","components_Card","resultRenderer","title","Label","content","SearchExampleStandard","state","isLoading","results","resetComponent","setState","handleResultSelect","_ref2","result","setSymbol","handleSearchChange","_ref3","toUpperCase","setTimeout","re","RegExp","_","escapeRegExp","output","filter","searchData","test","slice","outputName","excactOutput","blurOuput","arrayUnique","Object","toConsumableArray","_this$state","Search","loading","onResultSelect","onSearchChange","debounce","leading","placeholder","input","icon","iconPosition","array","i","j","splice","SearchForm","handleChange","event","getStockPrice","then","head","catch","d","_this$state$quote","latestTime","AutoSearch_SearchExampleStandard","Home","focus","serverUP","getInfo","interval","setInterval","clearInterval","message","herokuMessage","className","relaxed","basic","components_FocusList","components_SearchForm","sytle","top","components_CardContainer","Login","email","password","handleSumbit","preventDefault","user","postSessions","localStorage","setItem","backToHome","alert","keys","error","handleGuestLogin","handleInput","_this$setState","defineProperty","displayMessage","message1","Message","_this$state2","textAlign","height","verticalAlign","maxWidth","as","Form","size","stacked","Input","onChange","type","Signup","username","passwordReenter","valid","r","postUser","checkEmail","checkPassword","validate","signupButton","disabled","Trades","trades","meta","activePage","getTrades","page","fetchUserHistory","getItem","storeData","current_page","created_at","stock_symbol","quantity","price","action","estTime","toDateString","handlePageSelect","topPages","total_pages","Pagination","onPageChange","defaultActivePage","totalPages","BuySellForm","clearState","getPeriodicUpdate","handleBuySumbit","total","validBuy","balance","handleBuy","handleSellSubmit","handleSell","handleSearchInput","parseInt","validateBuy","validateSell","buyButton","sellButton","validSell","displayQuote","displayTotal","reminder","Group","Or","StockList","cellColor","status","sort","b","localeCompare","openPrice","reduce","acc","canvasGradient","createVerticalLinearGradient","stop","hexToRGBA","AreaChart","_this$props","width","ratio","date","beginDate","es","margin","left","right","bottom","seriesName","xAccessor","xScale","scaleTime","xExtents","id","yExtents","close","x1","y1","x2","y2","offset","stopColor","stopOpacity","axes","axisAt","orient","ticks","coordinates","at","displayFormat","timeFormat","format","series","yAccessor","fill","strokeWidth","interpolation","curveMonotoneX","React","defaultProps","fitWidth","ChartContainer","isDataChange","next","nextProps","StockChart","parseDate","timeParse","parseData","objectSpread","Portfolio","context","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","isUpdateNeeded","prevProps","changed","forEach","getChartData","chartData","getPrice","getOpenPrice","storePriceToState","updateLatestPrice","push","open","fetchStockPrice","buyStock","sym","afterTrade","validateButtons","sellStock","n","prevState","components_StockList","Divider","vertical","components_BuySellForm","selected","components_ChartContainer","stoAppearance","stroke","assign","StochasticSeries","CandleStickChartWithFullStochasticsIndicator","initialData","yGrid","innerTickSize","tickStrokeOpacity","xGrid","ema20","ema","options","windowSize","merge","c","accessor","ema50","slowSTO","stochasticOscillator","kWindowSize","fastSTO","fullSTO","dWindowSize","calculatedData","_xScaleProvider","discontinuousTimeScaleProvider","inputDateAccessor","xScaleProvider","displayXAccessor","last","Math","max","padding","showTicks","outerTickSize","itemType","edgeAt","xValue","strokeDasharray","tooltip","origin","volume","w","h","tickFormat","tickValues","appearance","label","RangePicker","handleClick","selectRange","generateButton","v4","MainChartContainer","components_RangePicker","MainChart","Container","userEmail","getAllSymbols","parseSymbols","userInfo","saveDataToState","checkToken","parseToken","charAt","parse","atob","split","fetchUserInfo","handleBackHome","removeItem","displayContent","components_Home","components_Portfolio","components_MainChartContainer","components_Trades","components_Login","components_Signup","components_Navbar","App","window","innerHeight","components_Container","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.693e44bc.chunk.js","sourcesContent":["// const backendUrl=\"http://localhost:4000/\"\nconst backendUrl=\"https://ttp-fs-20180728-backend.herokuapp.com/\"\n\n\n// https://ttp-fs-20180728-backend.herokuapp.com\n\n//batch quotes\n//http://localhost:4000/api/batch/intc,fb\n//batch prices\n\nexport function handleErrors(response) {\n    // console.log(response)\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n    return response.json();\n}\n\n\nexport function postUser(user){\n    const url = backendUrl+\"users\";\n    let config={\n        method: 'POST', \n        headers: {\n            'Content-Type': 'application/JSON',\n            'Data-Type': 'application/JSON'\n        },\n        body: JSON.stringify(user)\n    };\n    return fetch(url,config).then(r => r.json())\n}\n\nexport function postSessions(user){\n    const url = backendUrl+\"sessions\";\n    let config={\n        method: 'POST', \n        headers: {\n            'Content-Type': 'application/JSON',\n            'Data-Type': 'application/JSON'\n        },\n        body: JSON.stringify(user)\n    };\n    return fetch(url,config)\n}\n\nexport function fetchUserInfo(token, userID){\n    const url = backendUrl+\"/users/\"+userID\n    let config={\n            method: 'GET', \n            headers: {\n                'Authorization': token,\n                'Content-Type': 'application/JSON',\n                'Data-Type': 'application/JSON'\n            },\n        };\n    return fetch(url, config)\n}\n\nexport function fetchUserHistory(token, userID, page){\n    const url = backendUrl+\"/trades/\"+userID +\"?page=\" +page\n    let config={\n            method: 'GET', \n            headers: {\n                'Authorization': token,\n                'Content-Type': 'application/JSON',\n                'Data-Type': 'application/JSON',\n            },\n        };\n    return fetch(url, config)\n}\n\nexport function fetchStockPrice(symbols){\n    const url = backendUrl+\"api/price/\"+symbols\n        \n    return fetch(url)\n}\n\nexport function fetchStockQuote(symbol){\n    const url = backendUrl+\"api/stock/\"+symbol       \n    return fetch(url)\n}\n\nexport function fetchBatchQuote(symbols){\n    const url = backendUrl+\"api/batch/\"+symbols      \n    return fetch(url)\n}\n\nexport function sendTrade(trade, userID, token){\n    const url = backendUrl+\"/trades/\"+userID\n    let config={\n            method: 'POST', \n            headers: {\n                'Authorization': token,\n                'Content-Type': 'application/JSON',\n                'Data-Type': 'application/JSON'\n            },\n            body: JSON.stringify({trade})\n        };\n\n    return fetch(url, config)\n}\n\nexport function getStock6m(symbol){\n    const url= `https://api.iextrading.com/1.0/stock/${symbol}/chart/6m`;\n    return fetch(url);\n}\n\nexport const chartRange = [\"1m\",\"3m\", \"6m\",\"ytd\",\"1y\",\"2y\"];\nexport function getChart(symbol, range=\"6m\"){\n    if(chartRange.indexOf(range.toLowerCase()) == -1) range = \"6m\"\n    const url= `https://api.iextrading.com/1.0/stock/${symbol}/chart/${range}`;\n    return fetch(url);\n}\n\n\nexport function getFocus(){\n    const url ='https://api.iextrading.com/1.0/stock/market/list/infocus';\n    return fetch(url);\n}   \n\nexport function getSymbols(){\n    const url = 'https://api.iextrading.com/1.0/ref-data/symbols'\n    return fetch(url);\n}","import React, { Component } from 'react';\nimport { Menu, Segment, Button } from 'semantic-ui-react'\n\nclass Navbar extends Component {\n    \n\n    handleItemClick = (e, { name }) => this.props.handleMenu(name)\n\n    displayButtons=()=>{\n        const { activeItem } = this.props;\n        let login =  <Menu.Item position='right'>\n                <Button  \n            name='signup' \n            active={activeItem === 'signup'}\n            onClick={this.handleItemClick}\n            color='green'>\n            Signup\n            </Button>\n            <Button  \n                name='login' \n                active={activeItem === 'login'}\n                onClick={this.handleItemClick}\n                style={{ marginLeft: '0.5em' }} \n                color='green'>\n                Login\n            </Button>\n        </Menu.Item>\n\n        let logout= <Menu.Item position='right'>\n            Welcome, {this.props.userName}\n            <Button  \n                name='logout' \n                onClick={this.props.handleLogout}\n                style={{ marginLeft: '2em' }} \n                color='green'>\n                Logout\n            </Button>\n        \n        </Menu.Item>\n\n\n        if(this.props.userName){\n            return logout\n        }else{\n            return login\n        }\n    }\n\n\n    render() {\n        const { activeItem } = this.props\n        return (\n            <div>\n            <Segment inverted>\n                <Menu inverted pointing secondary>\n                <Menu.Item name='home' active={activeItem === 'home'} onClick={this.handleItemClick} />\n                <Menu.Item\n                    name='portfolio'\n                    active={activeItem === 'portfolio'}\n                    onClick={this.handleItemClick}\n                />\n                <Menu.Item\n                    name='charts'\n                    active={activeItem === 'charts'}\n                    onClick={this.handleItemClick}\n                />\n                <Menu.Item\n                    name='trades'\n                    active={activeItem === 'trades'}\n                    onClick={this.handleItemClick}\n                />\n                {/* <Menu.Item\n                    position='right'\n                    name='signup'\n                    active={activeItem === 'signup'}\n                    onClick={this.handleItemClick}\n                /> */}\n\n                {this.displayButtons()}\n                </Menu>\n\n            </Segment>\n\n        \n        </div>\n        );\n    }\n}\n\nexport default Navbar;","import React, { Component } from 'react';\nimport { Table } from 'semantic-ui-react'\n\n\nclass FocusList extends Component {\n    generateTables=()=>{\n        const colorCell = (color, value)=>{\n            if(color ===\"negative\") return <Table.Cell negative>{value}</Table.Cell>\n            if(color ===\"positive\") return <Table.Cell positive>{value}</Table.Cell>\n            return <Table.Cell >{value}</Table.Cell>\n        }\n\n\n       return  this.props.stocks.map(e=>{\n            // console.log(e)\n            const {symbol, change, changePercent, latestPrice} = e;\n            let percent = (changePercent*100).toFixed(2).toString()+\"%\"\n            let color = change<0 ? \"negative\":\"positive\";\n            if(change === 0) color=\"none\";\n            return <Table.Row key={Date.now()+symbol}>\n            {colorCell(color, symbol)}\n            {colorCell(color, change)}\n            {colorCell(color, percent)}\n            {colorCell(color, latestPrice)}\n        </Table.Row>\n        })\n\n    }\n    render() {\n        return (\n            <div>\n                <h3>Trending Stocks</h3>\n                <Table >\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell>Symbol</Table.HeaderCell>\n                        <Table.HeaderCell>Changed($)</Table.HeaderCell>\n                        <Table.HeaderCell>Percent</Table.HeaderCell>\n                        <Table.HeaderCell>Price($)</Table.HeaderCell>\n                    </Table.Row>\n                    </Table.Header>\n                    <Table.Body>\n                    {this.props.stocks.length > 0? this.generateTables():null}\n                    </Table.Body>\n                </Table>\n                \n            </div>\n        );\n    }\n}\n\nexport default FocusList;","import React, { Component } from 'react';\nimport { Card, Icon } from 'semantic-ui-react'\n\nclass StockCard extends Component {\n    render() {\n        // console.log(this.props.data)\n        if(this.props.data){\n            const {companyName, latestPrice, symbol, change, avgTotalVolume,high,low} = this.props.data.quote;\n            let arrow = change <0? \"arrow down\": \"arrow up\";\n            let color = change <0? \"red\": \"green\";\n            if(change === 0) {\n                color=\"black\";\n                arrow = \"\";\n            }\n            const fontColor = {color}\n            return (\n                <Card color={color} fluid>\n                <Card.Content>\n                <Card.Header style={fontColor}>\n                \n                ${latestPrice}-{symbol}-${change}\n                    <Icon name={arrow} />\n                </Card.Header>\n                <Card.Meta>\n                    <span >High:{high} Low:{low}</span>\n                </Card.Meta>\n                <Card.Description>{companyName}</Card.Description>\n                </Card.Content>\n                <Card.Content extra>\n                    Volumn: {avgTotalVolume}\n                </Card.Content>\n            </Card>\n            );\n        }else{\n            return (\n                <div></div>\n            )\n        }\n    }\n}\n\nexport default StockCard;\n","import React, { Component } from 'react';\nimport Card from './Card';\nimport { Grid } from 'semantic-ui-react'\n\nclass CardContainer extends Component {\n    \n    render() {\n        console.log(this.props.etfs)\n\n        return (\n            <div>\n                <h3>Major ETFs</h3>\n                <Grid columns={2}>\n                    <Grid.Row>\n                    <Grid.Column >\n                    <Card data ={this.props.etfs[\"IWM\"]} />\n                    </Grid.Column>\n\n                    <Grid.Column>\n                    <Card data ={this.props.etfs[\"DIA\"]}/>\n                    </Grid.Column>\n                    </Grid.Row>\n\n                    <Grid.Row>\n                    <Grid.Column>\n                    <Card data={this.props.etfs[\"SPY\"]}/>\n                    </Grid.Column>\n                    <Grid.Column>\n                    <Card data={this.props.etfs[\"QQQ\"]}/>\n                    </Grid.Column>\n                    </Grid.Row>\n                </Grid>\n\n                \n                \n            </div>\n        );\n    }\n}\n\nexport default CardContainer;","import _ from 'lodash'\nimport React, { Component } from 'react'\nimport { Search, Grid} from 'semantic-ui-react'\nimport PropTypes from 'prop-types'\nimport { Label } from 'semantic-ui-react'\nimport { v4 } from 'uuid';\n\n\n\nconst resultRenderer = ({ title, name }) => <Label content={`${title+\":\"+name}`} />\n\nresultRenderer.propTypes = {\n  title: PropTypes.string,\n  name: PropTypes.string,\n}\n\nexport default class SearchExampleStandard extends Component {\n    state={\n        isLoading: false, \n        results: [], \n        value: '' \n    }\n\n  componentWillMount() {\n    this.resetComponent()\n  }\n\n  resetComponent = () => this.setState({ isLoading: false, results: [], value: '' })\n\n  handleResultSelect = (e, { result }) => {\n    // console.log(result)\n    this.setState({ value: result.title })\n    this.props.setSymbol(result.title)\n  }\n\n  handleSearchChange = (e, { value }) => {\n    this.setState({ isLoading: true, value:value.toUpperCase() })\n    this.props.setSymbol(value);\n\n    setTimeout(() => {\n      if (this.state.value.length < 1) return this.resetComponent()\n\n      const re = new RegExp(_.escapeRegExp(this.state.value), 'i')\n      const isMatch = result => re.test(result.title)\n      const isMatchName = result => re.test(result.name)\n      const exactMatch = result => result.title === this.state.value\n      \n      const output = _.filter(this.props.searchData, isMatch).slice(0,8)\n      const outputName = _.filter(this.props.searchData, isMatchName).slice(0,8)\n      const excactOutput = _.filter(this.props.searchData, exactMatch)\n\n      const blurOuput = arrayUnique([...output, ...outputName]).slice(0,8);\n\n      this.setState({\n        isLoading: false,\n        results: arrayUnique([...excactOutput, ...blurOuput])\n      })\n    }, 300)\n  }\n\n\n\n  render() {\n    const { isLoading, value, results } = this.state\n    // console.log(this.props.searchData[0])\n    return (\n          <Search fluid\n            loading={isLoading}\n            onResultSelect={this.handleResultSelect}\n            onSearchChange={_.debounce(this.handleSearchChange, 500, { leading: true })}\n            results={results}\n            value={value}\n            resultRenderer={resultRenderer}\n            placeholder =\"Search Stock Symbol\"\n            input={{ icon: 'search', iconPosition: 'left' }}\n            // {...this.props}\n          />\n    )\n  }\n}\n\n\nfunction arrayUnique(array) {\n  var a = array.concat();\n  for(var i=0; i<a.length; ++i) {\n      for(var j=i+1; j<a.length; ++j) {\n          if(a[i] === a[j])\n              a.splice(j--, 1);\n      }\n  }\n\n  return a;\n}","import React, { Component } from 'react';\nimport { Card, Icon} from 'semantic-ui-react'\nimport debounce from 'lodash/debounce';\nimport { fetchStockQuote, handleErrors } from '../Adapter';\nimport AutoSearch from './AutoSearch';\n\n\n\nclass SearchForm extends Component {\n    state={\n        symbol:\"GOOG\",\n        quote:null\n    }\n\n    componentDidMount(){\n        this.getStockPrice();\n    }\n\n    handleChange=(event, {value})=>{\n        // console.log(value)\n        this.setState({symbol:value.toUpperCase()}, this.getStockPrice);\n    }\n\n    getStockPrice = debounce(()=>{\n        // console.log(\"get price!\");\n        fetchStockQuote(this.state.symbol)\n            .then(handleErrors)\n            .then(data => {\n                if(data.head!== 404){\n                    // console.log(data)\n                    this.setState({quote:data})\n                }else{\n                    this.setState({quote:\"Not Found\"})\n                }\n            }).catch((d)=>this.setState({quote:\"Not Found\"}))\n            \n    }, 300)\n\n    setSymbol=(symbol)=>{\n        // console.log(\"set symbol\", symbol)\n        this.setState({symbol},this.getStockPrice)\n    }\n\n\n    render() {\n        // var high=0, low=0, companyName=\"\", latestPrice=0, change=0, latestTime=\"\";\n        if(this.state.quote!==null && this.state.quote !==\"Not Found\"){\n             var {high, low, companyName, latestPrice, change, latestTime} = this.state.quote;\n        }\n        let arrow = change <0? \"arrow down\": \"arrow up\";\n        let color = change <0? \"red\": \"green\";\n        if(change === 0) {\n            color=\"black\";\n            arrow = \"\";\n        }\n\n        const fontColor = {color}             \n\n        return (\n            <Card fluid color={color} >\n            <Card.Content>\n            <Card.Header style={fontColor}>\n            <AutoSearch \n                searchData={this.props.searchData}\n                setSymbol={this.setSymbol}\n                />\n\n            {/* <Form >\n                <Form.Group >\n                    <Form.Input \n                        width={6} \n                        placeholder=\"Search Stock Symbols\"\n                        icon='search'\n                        iconPosition='left'\n                        value={this.state.symbol}\n                        onChange={this.handleChange}\n                    />\n                </Form.Group>\n                </Form> */}\n                Price: ${latestPrice} Change: ${change} <Icon name={arrow}/>\n            </Card.Header>\n            <Card.Meta>\n                    <span >High:{high} Low:{low}</span>\n                </Card.Meta>\n                <Card.Description>Company: {companyName},  {latestTime}</Card.Description>\n            </Card.Content>\n            </Card>\n        );\n        \n    }\n}\n\nexport default SearchForm;","import React, { Component } from 'react';\nimport { getFocus, handleErrors, fetchBatchQuote } from '../Adapter';\nimport { Grid, Segment } from 'semantic-ui-react'\nimport FocusList from './FocusList';\nimport CardContainer from './CardContainer';\nimport SearchForm from './SearchForm';\n\nclass Home extends Component {\n    state={\n        focus:[],\n        etfs:[],\n        serverUP:false,\n    }\n\n    componentDidMount(){\n        this.getInfo();\n        this.interval= setInterval(this.getInfo , 5000);\n    }\n\n    componentWillUnmount(){\n        clearInterval(this.interval)\n    }\n\n\n    getInfo=()=>{\n        getFocus().then(handleErrors).then(data => this.setState({focus:data}))\n        fetchBatchQuote([\"DIA\", \"SPY\", \"IWM\", \"QQQ\"])\n            .then(handleErrors)\n            .then(data => this.setState({etfs:data, serverUP:true}))\n            .catch(d=>console.log(\"Fetch ETFs ERROR!\"))\n    }\n\n    render() {\n        const userName = this.props.userID ? this.props.userName : \"guest\";\n        const message =this.props.userID \n            ? \"Today's snapshot:\" \n            : \"Please sign up or login for full functionalities.\";\n        const herokuMessage = this.state.serverUP ? null : \"Please allow 10s for heroku backend to boot.\";\n        return (\n            <div className=\"home-container\">\n                <h1>\n                    Welcome, {userName}! \n                </h1>\n                <h3>\n                    {message}\n                    {herokuMessage}\n                </h3>\n\n                <Grid columns={2} relaxed>\n                    <Grid.Column>\n                    <Segment basic>\n                    <FocusList stocks={this.state.focus}/>\n                    </Segment>\n                    </Grid.Column>\n\n                    <Grid.Column >\n                        <h2>Find Stock:</h2>\n                        <SearchForm searchData={this.props.searchData} sytle={{top:\"7px\"}}/>\n\n                        <CardContainer etfs={this.state.etfs}/>\n                    </Grid.Column>\n                </Grid>\n            </div>\n        );\n    }\n}\n\nexport default Home;","import React, { Component } from 'react';\nimport { Button, Form, Grid, Header, Segment, Message } from 'semantic-ui-react';\nimport { postSessions } from '../Adapter';\n\nclass Login extends Component {\n    state={\n        email:\"\",\n        password:\"\",\n        message:null\n    }\n\n    componentWillUnmount(){\n        this.setState({\n            email:'',\n            password:'',\n            message:null\n        })\n    }\n\n\n    handleSumbit=(event)=>{\n        event.preventDefault();\n        console.log(this.state);\n        const {email, password} = this.state;\n        let user ={\n            email,\n            password\n        }\n        postSessions(user).then(this.handleErrors).then( d => {\n            console.log(d)\n            if(d.token){\n                localStorage.setItem('token', d.token)\n                this.props.backToHome()\n            }else{\n                alert(Object.keys(d)+\" \"+ d[Object.keys(d)]);\n            }\n          }).catch((error)=> {\n            this.setState({message:\"Email/Password incorrect!\"})\n            })\n    }\n\n\n    handleGuestLogin=(event)=>{\n        event.preventDefault();\n        this.setState({email:\"guest@guest.com\", password:\"guest\"}, ()=>this.handleSumbit(event))        \n    }\n\n    handleErrors(response) {\n        console.log(response)\n        if (!response.ok) {\n            throw Error(response.statusText);\n        }\n        return response.json();\n    }\n\n    handleInput = (event, { value, name })=>{\n        // console.log(event.target, value, name)\n        let message = null;\n        this.setState({[name]:value, message})\n    }\n\n    displayMessage=()=>{\n        let message1 = <Message color=\"red\">\n            {this.state.message}\n            </Message>        \n        return this.state.message? message1: null;                 \n    }\n\n    render() {\n        const {email, password} = this.state;\n        return (\n            <div className='login-form'>\n\n            <Grid textAlign='center' style={{ height: '100%' }} verticalAlign='middle' >\n              <Grid.Column style={{ maxWidth: 450 }}>\n                <Header as='h2' color='black' textAlign='center'>\n                   Please Login\n                </Header>\n                <Form size='large'>\n                  <Segment stacked>\n                    <Form.Input fluid icon='user'\n                    value={email} \n                    onChange={this.handleInput}\n                    iconPosition='left' \n                    placeholder='E-mail address' \n                    name=\"email\"/>\n                    <Form.Input\n                      fluid\n                      icon='lock'\n                      iconPosition='left'\n                      placeholder='Password'\n                      type='password'\n                      onChange={this.handleInput}\n                      name=\"password\"\n                      value={password}\n\n                    />\n        \n                    <Button color='green' fluid size='large' onClick={this.handleSumbit}>\n                      Login\n                    </Button>\n                    <br></br>\n                    <Button color='blue' fluid size='large' onClick={this.handleGuestLogin}>\n                    Guest Demo Login\n                    </Button>\n                  </Segment>\n                </Form>\n                {this.displayMessage()}\n              </Grid.Column>\n            </Grid>\n          </div>\n        );\n    }\n}\n\nexport default Login;","import React, { Component } from 'react';\nimport { Button, Form, Grid, Header, Segment, Message } from 'semantic-ui-react';\nimport { postUser } from '../Adapter';\n\nclass Signup extends Component {\n    state={\n        email:'',\n        username:'',\n        password:'',\n        passwordReenter:'',\n        message:null,\n        valid:false,\n    }\n\n    componentWillUnmount(){\n        this.setState({\n            email:'',\n            username:'',\n            password:'',\n            passwordReenter:'',\n            message:\"\",\n            valid:false,\n        })\n    }\n\n    handleSumbit=(event)=>{\n        event.preventDefault();\n        console.log(this.state);\n        const {email , username, password} = this.state;\n        let user ={\n            email,\n            username,\n            password\n        }\n        postUser(user).then(this.handleErrors).then( d => {\n            console.log(d)\n            if(d.token){\n                localStorage.setItem('token', d.token)\n                // this.props.history.push('/')\n                this.props.backToHome()\n            }else{\n                alert(Object.keys(d)+\" \"+ d[Object.keys(d)]);\n            }\n          }).catch((error)=> {\n            this.setState({message:\"Email has been taken!\"})\n            })\n    }\n\n    handleErrors(response) {\n        console.log(response)\n        if (!response.ok) {\n            throw Error(response.statusText);\n        }\n        return response;\n    }\n\n    handleInput = (event, { value, name })=>{\n        // console.log(event.target, value, name)\n        let message = null;\n        // console.log(this.checkEmail())\n        if(this.checkEmail()){\n            message = \"Email can not be blank!\"\n        }else if(this.state.password ===\"\"){\n            message = \"Password can not be blank!\"            \n        }else if(this.checkPassword()){            \n            message = \"Your password doesn't match!\"\n        }\n        // console.log(message)\n        this.setState({[name]:value, message}, this.validate)\n    }\n\n    validate=()=>{\n        if(this.state.email!==\"\" \n            && this.state.password!==\"\" \n            && this.state.password === this.state.passwordReenter)\n            this.setState({valid:true, message:\"\"})\n        else\n            this.setState({valid:false})\n    }\n\n    displayMessage=()=>{\n        let message1 = <Message color=\"red\">\n            {this.state.message}\n            </Message>        \n        return this.state.message? message1: null;                 \n    }\n\n    checkPassword=()=>{       \n        return this.state.password!==this.state.passwordReenter;                 \n    \n    }\n\n    checkEmail=()=>{\n        return this.state.email === \"\";     \n    }\n\n    signupButton=()=>{\n        if(this.state.valid)\n            return <Button color='green' fluid size='large' onClick={this.handleSumbit}>Sign Up</Button>\n        else\n        return <Button disabled color='green' fluid size='large' onClick={this.handleSumbit}>Sign Up</Button>\n\n    }\n\n    \n    render() {\n        const {email , username, password, passwordReenter} = this.state;\n        return (\n            <div className='signup-form'>\n\n            <Grid textAlign='center' style={{ height: '100%'}} verticalAlign='middle' >\n              <Grid.Column style={{ maxWidth: 450 }}>\n                <Header as='h2' color='black' textAlign='center'>\n                   Please Register\n                </Header>\n                <Form size='large'>\n                  <Segment stacked>\n                    <Form.Input fluid icon='user' \n                        name=\"email\"\n                        iconPosition='left' \n                        placeholder='E-mail address'\n                        onChange={this.handleInput} \n                        value={email}/>\n                    <Form.Input fluid icon='user' \n                        name=\"username\"\n                        iconPosition='left' \n                        placeholder='Name' \n                        onChange={this.handleInput} \n                        value={username}/>\n                    <Form.Input\n                      fluid\n                      name=\"password\"\n                      icon='lock'\n                      iconPosition='left'\n                      placeholder='Password'\n                      onChange={this.handleInput} \n                      type='password'\n                      value={password}\n                    />\n\n                    <Form.Input\n                      fluid\n                      name=\"passwordReenter\"\n                      icon='lock'\n                      iconPosition='left'\n                      placeholder='Reenter Your Password'\n                      onChange={this.handleInput} \n                      type='password'\n                      value={passwordReenter}\n                    />\n        \n                    {this.signupButton()}\n                  </Segment>\n                </Form>\n                {this.displayMessage()}\n    \n\n              </Grid.Column>\n            </Grid>\n          </div>\n        );\n    }\n}\n\nexport default Signup;","import React, { Component } from 'react';\nimport { Table, Pagination } from 'semantic-ui-react';\nimport { fetchUserHistory} from '../Adapter';\n\n\nclass Trades extends Component {\n    state={\n        trades:[],\n        meta:{},\n        activePage:1,\n    }\n\n    componentDidMount(){\n        this.getTrades();\n    }\n\n    componentWillUnmount(){\n        this.setState({\n            trades:[],\n            meta:{},\n            activePage:1,\n        })\n    }\n\n    handleErrors = (response)=>{\n            // console.log(response)\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n    // console.log(response)\n    // console.log(response.headers.get('Link'))\n\n    // response.headers.forEach(function(val, key) { console.log(key + ' -> ' + val); });\n    return response.json();\n    }\n\n    getTrades=(page=1)=>{\n        const token = localStorage.getItem('token');\n\n        fetchUserHistory(token, this.props.userID, page)\n            .then(this.handleErrors)\n            .then(this.storeData)\n            .catch(()=> console.log(\"ERROR\"))\n    }\n\n    storeData=(data)=>{\n        this.setState({trades:data.trades, meta:data.meta, activePage:data.meta.current_page })\n    }\n\n    generateTables=()=>{\n        return this.state.trades.map(e=>{\n            // console.log(e);\n            let {created_at, stock_symbol, quantity, price, action} = e;\n\n            let estTime = new Date(created_at);\n            // console.log(estTime)\n            return <Table.Row key ={Date.now()+stock_symbol+quantity+created_at}>\n        <Table.Cell>{estTime.toDateString()}</Table.Cell>\n        <Table.Cell>{stock_symbol}</Table.Cell>\n        <Table.Cell>{quantity}</Table.Cell>\n        <Table.Cell>{price}</Table.Cell>\n        <Table.Cell>{action}</Table.Cell>\n        </Table.Row>\n        })\n    }\n\n    handlePageSelect=(event, {activePage})=>{\n        this.getTrades(activePage);\n        // console.log(activePage)\n    }\n\n    topPages =(key)=>{\n        if(this.state.meta.total_pages && this.state.meta.total_pages > 1)\n            return <Pagination key={key} \n                    onPageChange={this.handlePageSelect}\n                    defaultActivePage={this.state.meta.current_page} \n                    totalPages={this.state.meta.total_pages} />\n\n        return null;\n    }\n    \n    render() {\n        return (\n            <div className=\"trades-table\">\n                <h2>\n                Trade History\n                </h2>\n                {this.topPages(\"top_pagination\")}\n                <Table >\n                    <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell>Date</Table.HeaderCell>\n                        <Table.HeaderCell>Symbol</Table.HeaderCell>\n                        <Table.HeaderCell>Shares</Table.HeaderCell>\n                        <Table.HeaderCell>Price($)</Table.HeaderCell>\n                        <Table.HeaderCell>Buy/Sell</Table.HeaderCell>\n                    </Table.Row>\n                    </Table.Header>\n\n                    <Table.Body>\n                        {this.state.trades.length>0 ? this.generateTables():null}\n                    </Table.Body>\n                    </Table>\n                    {this.topPages(\"down_pagination\")}\n\n                    {/* {this.state.meta.totalPages === 1?null :this.bottomPages(\"999bottom_pagination\")} */}\n            </div>\n        );\n    }\n}\n\nexport default Trades;\n","import React, { Component } from 'react';\nimport { Button, Form, Grid, Header, Message } from 'semantic-ui-react';\nimport { fetchStockQuote, handleErrors } from '../Adapter';\nimport debounce from 'lodash/debounce';\nimport AutoSearch from './AutoSearch';\n\nclass BuySellForm extends Component {\n    state={\n        symbol:\"\",\n        quantity:0,\n        message:null,\n        price:null,\n        valid:false,\n    }\n\n    componentDidMount(){\n        this.interval = setInterval(this.getPeriodicUpdate, 5000);\n    }\n\n    componentWillUnmount(){\n        clearInterval(this.interval);\n        this.clearState();\n    }\n\n\n    clearState=()=>{\n        this.setState({\n            symbol:\"\",\n            quantity:0,\n            message:null,\n            price:null,\n            valid:false,\n        })\n    }\n\n    getPeriodicUpdate=()=>{\n        if(this.state.valid && this.state.symbol!==\"\"){\n\n            this.getStockPrice()\n        }\n    }\n\n    getStockPrice=debounce(()=>{\n        // console.log(\"get price!\");\n        fetchStockQuote(this.state.symbol)\n            .then(handleErrors)\n            .then(data => {\n                if(data.head!== 404){\n                    let message = \"Company: \"+data.companyName +\" || Current Price: $\" + data.latestPrice\n                    // console.log(data)\n                    this.setState({message, price:data.latestPrice, valid:true})\n                }else{\n                    this.setState({valid:false,message:null})\n                }\n            }).catch((d)=>this.setState({valid:false, message:null}))\n            \n    }, 300)\n\n\n    handleBuySumbit=()=>{\n        let total = this.state.price*this.state.quantity;\n        if(this.props.validBuy && total < this.props.balance && this.state.valid){\n            this.props.handleBuy(this.state.symbol, this.state.quantity, this.state.price);\n        }\n    }\n\n    handleSellSubmit=()=>{\n        this.props.handleSell(this.state.symbol, this.state.quantity, this.state.price);\n    }\n    \n    handleSearchInput=(value)=>{\n        if(value !== \"\")this.getStockPrice();\n        value=value.toUpperCase();\n        this.setState({symbol:value}, this.validate);\n    }\n\n    handleInput = (event, { value, name })=>{\n        // console.log(event.target.value, value, name)\n        switch (name) {\n            case \"symbol\":\n                if(value !== \"\")this.getStockPrice();\n                value=value.toUpperCase();\n                break;\n            case \"quantity\":\n                let regex = /[0-9]|\\./;\n                if(regex.test(value))\n                    value= parseInt(value);\n                else\n                    value= \"\";\n                break;\n\n            default:\n                break;\n        }\n        this.setState({[name]:value}, this.validate);\n    }\n\n    validate=()=>{\n        this.props.validateBuy(this.state.symbol, this.state.quantity, this.state.price);\n        this.props.validateSell(this.state.symbol, this.state.quantity);\n    }\n\n\n    buyButton=()=>{\n        if(this.state.valid && this.props.validBuy)\n            return <Button positive onClick={this.handleBuySumbit}>Buy</Button>\n        return <Button positive disabled >Buy</Button>\n    }\n    sellButton=()=>{\n        // console.log(\"sell button\", this.props.validSell)\n        if(this.props.validSell){\n            return <Button negative onClick={this.handleSellSubmit}>Sell</Button>\n        }\n        return <Button negative disabled >Sell</Button>\n    }\n\n    displayMessage = () =>{\n        let message1 = <Message color=\"red\">\n            Invalid Stock Symbol\n            </Message>        \n        return !this.state.valid&&this.state.symbol!==\"\"? message1: null;    \n    }\n\n\n    displayQuote=()=>{\n        let message1 = <Message color=\"green\">\n            {this.state.message}\n        </Message>        \n    return this.state.valid? message1: null; \n    }\n\n    displayTotal=()=>{\n        let total = this.state.price*this.state.quantity;\n        let color = total > this.props.balance ? \"red\" : \"green\"\n        let reminder = color ===\"red\" ? \" Over your budget!\" : null;\n        let message1 = <Message color={color}>\n            Total Cost : ${total.toFixed(2)} {reminder}\n        </Message>        \n        return this.state.valid? message1: null; \n    }\n\n    render() {\n        const {symbol, quantity} = this.state;\n        const icon = this.state.valid? \"check\" : \"x\";\n        const balance = this.props.balance ? this.props.balance.toFixed(2) : 0;\n        return (\n            <div className=\"buy-sell-form\">\n                 <Grid textAlign='center' style={{ height: '100%' }} verticalAlign='middle' >\n              <Grid.Column style={{ maxWidth: 530, height:380 }}>\n                <Header as='h2' color='black' textAlign='center'>\n                   Current Cash: ${balance}\n                </Header>\n                <Form size='large'>\n                  \n                    {/* Stock Symbol:<Form.Input fluid icon={icon}\n                    value={symbol} \n                    onChange={this.handleInput}\n                    iconPosition='left' \n                    placeholder='Stock Symbol' \n                    name=\"symbol\"/> */}\n\n                    <AutoSearch fluid\n                        searchData={this.props.searchData}\n                        setSymbol={this.handleSearchInput}\n                    \n                    />\n                    Number of Shares:<Form.Input\n                      fluid\n                      icon='circle'\n                      iconPosition='left'\n                      placeholder='Number of shares'\n                      onChange={this.handleInput}\n                      name=\"quantity\"\n                      type=\"integer\"\n                      value={quantity}\n\n                    />\n\n                      <Button.Group fluid>\n                        {this.buyButton()}\n                        <Button.Or />\n                        {this.sellButton()}\n                    </Button.Group>\n                    \n                  \n                </Form>\n                {this.displayMessage()}\n                {this.displayQuote()}\n                {this.displayTotal()}\n              </Grid.Column>\n            </Grid>\n                \n            </div>\n        );\n    }\n}\n\nexport default BuySellForm;","import React, { Component } from 'react';\nimport { Table } from 'semantic-ui-react'\n\nclass StockList extends Component {\n\n    generateTables=()=>{\n        const cellColor = (status, value) => {\n            switch (status) {\n                case \"positive\":\n                    return <Table.Cell positive>{value}</Table.Cell>\n                    \n                case \"negative\":\n                    return <Table.Cell negative>{value}</Table.Cell>\n        \n                default:\n                    return <Table.Cell>{value}</Table.Cell>       \n            }\n        }\n        const alphabeticOrder = (a,b) => a.stock_symbol.localeCompare(b.stock_symbol);\n\n       return this.props.stocks.sort(alphabeticOrder).map( e => {\n            let price = this.props.latestPrice[e.stock_symbol];\n            if(!price){\n                price = e.price;\n            }else{\n                price = this.props.latestPrice[e.stock_symbol].price\n            }\n            let status = \"\";\n            if(price > e.openPrice) status=\"positive\";\n            else if(price < e.openPrice) status=\"negative\";\n        //    const price= Object.keys(this.props.latestPrice).length === 0 ? 0 : this.props.latestPrice[e.stock_symbol].price;\n        //    console.log(e, this.props.latestPrice, price)\n        return <Table.Row key={Date.now()+e.stock_symbol}>\n            {cellColor(status, e.stock_symbol)}\n            {cellColor(status, e.quantity)}\n            {cellColor(status, e.openPrice)}\n            {cellColor(status, price)}\n            {cellColor(status, (e.quantity*price).toFixed(2))}\n        </Table.Row>\n\n       })\n    }\n\n    total =() =>{\n        if(Object.keys(this.props.latestPrice).length > 0 \n            && this.props.stocks.length >0){\n            \n            // console.log()            \n\n            return this.props.stocks.reduce((acc,e)=>{   \n                let price = this.props.latestPrice[e.stock_symbol];\n                if(!price){\n                    price = e.price;\n                }else{\n                    price = this.props.latestPrice[e.stock_symbol].price\n                }\n                return acc+ price*e.quantity \n            }, 0);\n        }\n        return 0;\n    }\n\n    render() {\n        // const total = this.props.stocks.length>1?  : 0;\n        return (\n            <div className=\"stock-table\">\n                <h2>Total Value: ${this.total().toFixed(2)}</h2>\n                \n                  <Table >\n                    <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell>Symbol</Table.HeaderCell>\n                        <Table.HeaderCell>Shares</Table.HeaderCell>\n                        <Table.HeaderCell>Open($)</Table.HeaderCell>\n                        <Table.HeaderCell>Current($)</Table.HeaderCell>\n                        <Table.HeaderCell>Value($)</Table.HeaderCell>\n                    </Table.Row>\n                    </Table.Header>\n\n                    <Table.Body>\n                    {this.generateTables()}\n                    </Table.Body>\n                </Table>\n                \n            </div>\n        );\n    }\n}\n\nexport default StockList;","\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { scaleTime } from \"d3-scale\";\nimport { curveMonotoneX } from \"d3-shape\";\n\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\nimport { AreaSeries } from \"react-stockcharts/lib/series\";\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\nimport { createVerticalLinearGradient, hexToRGBA } from \"react-stockcharts/lib/utils\";\n\nimport { format } from \"d3-format\";\nimport { timeFormat } from \"d3-time-format\";\nimport {\n\tCrossHairCursor,\n\tMouseCoordinateX,\n\tMouseCoordinateY\n} from \"react-stockcharts/lib/coordinates\";\n\nconst canvasGradient = createVerticalLinearGradient([\n\t{ stop: 0, color: hexToRGBA(\"#b5d0ff\", 0.2) },\n\t{ stop: 0.7, color: hexToRGBA(\"#6fa4fc\", 0.4) },\n\t{ stop: 1, color: hexToRGBA(\"#4286f4\", 0.8) },\n]);\n\nclass AreaChart extends React.Component {\n\trender() {\n        const { data, type, width, ratio, symbol } = this.props;\n        const date = new Date(data[data.length -1].date);\n        const beginDate = new Date(data[0].date);\n\t\t// console.log(data)\n\t\treturn (\n\t\t\t<ChartCanvas ratio={ratio} width={width} height={400}\n\t\t\t\tmargin={{ left: 50, right: 50, top: 10, bottom: 30 }}\n\t\t\t\tseriesName={symbol}\n\t\t\t\tdata={data} type={type}\n\t\t\t\txAccessor={d => d.date}\n\t\t\t\txScale={scaleTime()}\n\t\t\t\txExtents={[beginDate, date]}\n\t\t\t>\n\t\t\t\t<Chart id={0} yExtents={d => d.close}>\n\t\t\t\t\t<defs>\n\t\t\t\t\t\t<linearGradient id=\"MyGradient\" x1=\"0\" y1=\"100%\" x2=\"0\" y2=\"0%\">\n\t\t\t\t\t\t\t<stop offset=\"0%\" stopColor=\"#b5d0ff\" stopOpacity={0.2} />\n\t\t\t\t\t\t\t<stop offset=\"70%\" stopColor=\"#6fa4fc\" stopOpacity={0.4} />\n\t\t\t\t\t\t\t<stop offset=\"100%\"  stopColor=\"#4286f4\" stopOpacity={0.8} />\n\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t</defs>\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" ticks={6}/>\n\t\t\t\t\t<YAxis axisAt=\"left\" orient=\"left\" />\n                    <MouseCoordinateX\n\t\t\t\t\t\tat=\"bottom\"\n\t\t\t\t\t\torient=\"bottom\"\n\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")}\n\t\t\t\t\t/>\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"left\"\n\t\t\t\t\t\torient=\"left\"\n\t\t\t\t\t\tdisplayFormat={format(\".4s\")}\n\t\t\t\t\t/>\n\t\t\t\t\t<AreaSeries\n\t\t\t\t\t\tyAccessor={d => d.close}\n\t\t\t\t\t\tfill=\"url(#MyGradient)\"\n\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\tinterpolation={curveMonotoneX}\n\t\t\t\t\t\tcanvasGradient={canvasGradient}\n\t\t\t\t\t/>\n\t\t\t\t</Chart>\n                <CrossHairCursor />\n\t\t\t</ChartCanvas>\n\t\t);\n\t}\n}\n\n\nAreaChart.propTypes = {\n\tdata: PropTypes.array.isRequired,\n\twidth: PropTypes.number.isRequired,\n\tratio: PropTypes.number.isRequired,\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n};\n\nAreaChart.defaultProps = {\n\ttype: \"svg\",\n};\nAreaChart = fitWidth(AreaChart);\n\nexport default AreaChart;","import React, { Component } from 'react';\nimport StockChart from './StockChart';\n\n\nclass ChartContainer extends Component {\n\n\n\n    shouldComponentUpdate(nextProps){\n        // console.log(this.props.symbol, nextProps.symbol)\n        if(nextProps.symbol !== this.props.symbol \n            || this.isDataChange(nextProps.data, this.props.data)){\n            \n                return true;\n        }\n        return false;\n    }\n\n    isDataChange=(next, now)=>{\n        if(next.length !== now.length) return true;\n        if(next.length >0 && now.length >0)\n            if(next[0].close !== now[0].close)\n                return true;\n        return false;\n    }\n\n\n    render() {\n        // console.log(this.props.data.length)\n\t\tif (this.props.data.length < 1 || this.props.symbol == \"\") {\n\t\t\treturn <div></div>\n        }\n        const {symbol} = this.props;\n\t\treturn (\n            <div className=\"small-stock-chart\" >\n            <h3>Stock Symbol:  {symbol}</h3>\n\t\t\t<StockChart data={this.props.data} symbol={symbol}/>\n            </div>\n\t\t)\n\t}\n}\n\nexport default ChartContainer;","\n// import { tsvParse } from  \"d3-dsv\";\nimport { timeParse } from \"d3-time-format\";\n\n\nconst parseDate = timeParse(\"%Y-%m-%d\");\n\nexport function parseData(data){\n    return data.map( e=> {return {...e, \"date\":parseDate(e.date)}});\n}\n\n// export function getData() {\n// \tconst promiseQuote = fetch(`https://api.iextrading.com/1.0/stock/aapl/chart/6m`)\n//         .then(response => response.json())\n//         // .then(data => console.log(typeof(data)))\n// \t\t.then(data => data.map( e=> {return {...e, date:parseDate(e.date)}}) )\n// \treturn promiseQuote;\n// }","import React, { Component } from 'react';\nimport { Grid, Segment, Divider } from 'semantic-ui-react';\nimport BuySellFrom from './BuySellForm';\nimport { sendTrade, handleErrors,fetchBatchQuote, fetchStockPrice , getChart} from '../Adapter';\nimport StockList from './StockList';\nimport ChartContainer from './ChartContainer';\nimport { parseData, getData } from '../Utility';\nimport debounce from 'lodash/debounce';\n\n\n\nclass Portfolio extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.state={\n            stocks:[],\n            latestPrice:{},\n            chartData:[],\n            validSell:false,\n            validBuy:false,\n            symbol:null,\n        }\n    }\n    componentDidMount(){\n        // console.log(\"props.stocks\",this.props.stocks)\n        this.setState({stocks:this.props.stocks}, this.getPrice)\n        //check price every 5 seconds\n        this.interval = setInterval(this.updateLatestPrice, 5000);\n\n    }\n\n    componentWillUnmount(){\n        clearInterval(this.interval);\n        this.setState({\n            stocks:[],\n            latestPrice:{},\n            validSell:false,\n            validBuy:false,\n        })\n    }\n\n    //deep compare fn to check quantity change\n    componentDidUpdate(prevProps, prevState){\n        if(this.isUpdateNeeded(prevProps)){\n            this.setState({ stocks:[...this.props.stocks]}, this.getPrice)\n        }\n        if(prevState.symbol !== this.state.symbol){\n            if(this.state.symbol !==\"\"){\n                console.log(this.state.symbol)\n                this.getChartData(this.state.symbol)\n            }else \n                this.setState({chartData:[]})\n        }   \n    }\n\n    isUpdateNeeded=(prevProps)=>{\n        if(prevProps.stocks.length !== this.props.stocks.length)\n            return true;\n        let changed = false;\n        this.props.stocks.forEach((e,i)=>{\n            if(prevProps.stocks[i].quantity !== e.quantity)\n                changed=true;\n        })\n        return changed;\n    }\n\n\n    getChartData=debounce((symbol)=>{\n        // console.log(\"gets called\", symbol)\n        getChart(symbol)\n        .then(handleErrors)\n        .then( d=> {\n            let data = parseData(d);\n            // console.log(data)\n            this.setState({chartData:data})\n        })\n        .catch(e=>{\n            this.setState({chartData:[]})\n            console.log(\"invalid symbol\");\n        })\n    },300)\n\n\n    getPrice=()=>{\n        this.getOpenPrice();\n        // this.updateLatestPrice();\n    }\n    \n    getOpenPrice=()=>{\n        const symbols=this.state.stocks.map(e=>e.stock_symbol);\n        fetchBatchQuote(symbols)\n            .then(handleErrors)\n            .then(this.storePriceToState)\n            .then(this.updateLatestPrice)\n            .catch(()=>console.log(\"fetchBathQuote ERROR!\"))\n    }\n\n    storePriceToState=(data)=>{\n        // console.log(data)\n        let result =[];\n        this.state.stocks.forEach(e=>{\n            // console.log(data[e.stock_symbol].quote.open)\n            result.push({...e, \n                openPrice:data[e.stock_symbol].quote.open, \n                price:data[e.stock_symbol].quote.latestPrice\n            })\n        })\n        this.setState({stocks:result})\n    }\n\n    updateLatestPrice=()=>{\n        const symbols=this.state.stocks.map(e=>e.stock_symbol);\n\n        fetchStockPrice(symbols)\n            .then(handleErrors)\n            .then(data=>this.setState({latestPrice:data}))\n            .catch(console.log);\n        console.log(\"GET PRICE ONLY!\");\n    }\n    \n    buyStock=(sym, quantity, price)=>{\n        const token = localStorage.getItem('token');\n        const trade ={sym, quantity, price, action:\"BUY\"};\n        sendTrade(trade, this.props.userID, token)\n        .then(handleErrors)\n        .then(this.props.afterTrade)\n        .then(()=>this.validateButtons(sym, quantity, price))        \n        .catch(()=>console.log(\"ERROR!Transaction Failed!\"))\n        console.log(\"buystock\")\n    }\n\n    sellStock=(sym, quantity, price)=>{\n        console.log(\"sell stock\", sym, quantity, price)\n        const token = localStorage.getItem('token');\n        const trade ={sym, quantity, price, action:\"SELL\"};\n        sendTrade(trade, this.props.userID, token)\n        .then(handleErrors)\n        .then(this.props.afterTrade)\n        .then(()=>this.validateButtons(sym, quantity, price))\n        .catch(()=>console.log(\"ERROR!Transaction Failed!\"))\n\n    }\n\n    validateButtons=(sym, quantity, price)=>{\n        this.validateBuy(sym, quantity, price);\n        this.validateSell(sym, quantity);\n    }\n\n    validateBuy=(symbol,n, price)=>{\n        if(n > 0 && n*price < this.props.balance && symbol !==\"\"){\n            this.setState({validBuy:true, symbol});\n        }else{\n            this.setState({validBuy:false, symbol});\n        }\n    }\n\n    validateSell=(symbol, n)=>{\n        let valid = false;\n        this.state.stocks.forEach( e=>{\n            // console.log(e.quantity,  n, symbol)\n            if(e.stock_symbol === symbol && e.quantity >= n && n >0){\n                // console.log(\"inside!!!!!\")\n                valid = true;\n                return\n            }\n        })\n        this.setState({validSell:valid, symbol})\n    }\n\n\n    render() {\n        // console.log(\"portfolio\",this.props.stocks, this.state.stocks)\n        return (\n            <div className=\"portfolio-container\">\n                <Grid columns={2} relaxed>\n                    <Grid.Column>\n                    <Segment basic>\n                        <StockList \n                            stocks={this.state.stocks}\n                            latestPrice={this.state.latestPrice}\n                        />\n                    \n                    </Segment>\n                    </Grid.Column>\n                    <Divider vertical>|</Divider>\n                    <Grid.Column>\n                    <Segment basic>\n                        <BuySellFrom\n                            handleBuy={this.buyStock}\n                            handleSell={this.sellStock}\n                            balance={this.props.balance}                            \n                            selected = {null}\n                            validBuy = {this.state.validBuy}\n                            validateBuy={this.validateBuy}\n                            validSell = {this.state.validSell}\n                            validateSell = {this.validateSell}\n                            searchData={this.props.searchData}\n\n                        />\n                    </Segment>\n                    <ChartContainer symbol={this.state.symbol} data={this.state.chartData}/>\n\n                    </Grid.Column>\n                </Grid>\n                \n            </div>\n        );\n    }\n}\n\nexport default Portfolio;","\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { format } from \"d3-format\";\nimport { timeFormat } from \"d3-time-format\";\n\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\nimport {\n\tBarSeries,\n\tStraightLine,\n\tCandlestickSeries,\n\tLineSeries,\n\tStochasticSeries,\n} from \"react-stockcharts/lib/series\";\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\nimport {\n\tCrossHairCursor,\n\tEdgeIndicator,\n\tCurrentCoordinate,\n\tMouseCoordinateX,\n\tMouseCoordinateY,\n} from \"react-stockcharts/lib/coordinates\";\n\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\";\nimport {\n\tOHLCTooltip,\n\tMovingAverageTooltip,\n\tStochasticTooltip,\n} from \"react-stockcharts/lib/tooltip\";\nimport { ema, stochasticOscillator } from \"react-stockcharts/lib/indicator\";\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\nimport { last } from \"react-stockcharts/lib/utils\";\n\nconst stoAppearance = {\n\tstroke: Object.assign({},\n\t\tStochasticSeries.defaultProps.stroke)\n};\n\nclass CandleStickChartWithFullStochasticsIndicator extends React.Component {\n\trender() {\n\t\tconst height = 750;\n\t\tconst { type, data: initialData, width, ratio } = this.props;\n\t\tconst margin = { left: 70, right: 70, top: 20, bottom: 30 };\n\n\t\tconst gridHeight = height - margin.top - margin.bottom;\n\t\tconst gridWidth = width - margin.left - margin.right;\n\n\t\tconst showGrid = true;\n\t\tconst yGrid = showGrid ? { innerTickSize: -1 * gridWidth, tickStrokeOpacity: 0.1 } : {};\n\t\tconst xGrid = showGrid ? { innerTickSize: -1 * gridHeight, tickStrokeOpacity: 0.1 } : {};\n\n\t\tconst ema20 = ema()\n\t\t\t.id(0)\n\t\t\t.options({ windowSize: 20 })\n\t\t\t.merge((d, c) => {d.ema20 = c;})\n\t\t\t.accessor(d => d.ema20);\n\n\t\tconst ema50 = ema()\n\t\t\t.id(2)\n\t\t\t.options({ windowSize: 50 })\n\t\t\t.merge((d, c) => {d.ema50 = c;})\n\t\t\t.accessor(d => d.ema50);\n\n\t\tconst slowSTO = stochasticOscillator()\n\t\t\t.options({ windowSize: 14, kWindowSize: 3 })\n\t\t\t.merge((d, c) => {d.slowSTO = c;})\n\t\t\t.accessor(d => d.slowSTO);\n\t\tconst fastSTO = stochasticOscillator()\n\t\t\t.options({ windowSize: 14, kWindowSize: 1 })\n\t\t\t.merge((d, c) => {d.fastSTO = c;})\n\t\t\t.accessor(d => d.fastSTO);\n\t\tconst fullSTO = stochasticOscillator()\n\t\t\t.options({ windowSize: 14, kWindowSize: 3, dWindowSize: 4 })\n\t\t\t.merge((d, c) => {d.fullSTO = c;})\n\t\t\t.accessor(d => d.fullSTO);\n\n\t\tconst calculatedData = ema20(ema50(slowSTO(fastSTO(fullSTO(initialData)))));\n\t\tconst xScaleProvider = discontinuousTimeScaleProvider\n\t\t\t.inputDateAccessor(d => d.date);\n\t\tconst {\n\t\t\tdata,\n\t\t\txScale,\n\t\t\txAccessor,\n\t\t\tdisplayXAccessor,\n\t\t} = xScaleProvider(calculatedData);\n\n\t\tconst start = xAccessor(last(data));\n\t\tconst end = xAccessor(data[Math.max(0, data.length - 150)]);\n\t\tconst xExtents = [start, end];\n\t\treturn (\n\t\t\t<ChartCanvas height={750}\n\t\t\t\twidth={width}\n\t\t\t\tratio={ratio}\n\t\t\t\tmargin={margin}\n\t\t\t\ttype={type}\n\t\t\t\tseriesName=\"MSFT\"\n\t\t\t\tdata={data}\n\t\t\t\txScale={xScale}\n\t\t\t\txAccessor={xAccessor}\n\t\t\t\tdisplayXAccessor={displayXAccessor}\n\t\t\t\txExtents={xExtents}\n\t\t\t>\n\t\t\t\t<Chart id={1} height={325}\n\t\t\t\t\tyExtents={d => [d.high, d.low]}\n\t\t\t\t\tpadding={{ top: 10, bottom: 20 }}\n\t\t\t\t>\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={5} {...yGrid}/>\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" showTicks={false} outerTickSize={0} />\n\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\n\n\t\t\t\t\t<CandlestickSeries />\n\n\t\t\t\t\t<LineSeries yAccessor={ema20.accessor()} stroke={ema20.stroke()}/>\n\t\t\t\t\t<LineSeries yAccessor={ema50.accessor()} stroke={ema50.stroke()}/>\n\n\t\t\t\t\t<CurrentCoordinate yAccessor={ema20.accessor()} fill={ema20.stroke()} />\n\t\t\t\t\t<CurrentCoordinate yAccessor={ema50.accessor()} fill={ema50.stroke()} />\n\n\t\t\t\t\t<EdgeIndicator itemType=\"last\" orient=\"right\" edgeAt=\"right\"\n\t\t\t\t\t\tyAccessor={d => d.close} fill={d => d.close > d.open ? \"#6BA583\" : \"#FF0000\"}/>\n\n\t\t\t\t\t<StraightLine type=\"vertical\" xValue={608} />;\n\t\t\t\t\t<StraightLine type=\"vertical\" xValue={558} strokeDasharray=\"Dot\" />;\n\t\t\t\t\t<StraightLine type=\"vertical\" xValue={578} strokeDasharray=\"LongDash\" />;\n\n\t\t\t\t\t<OHLCTooltip origin={[-40, -10]}/>\n\t\t\t\t\t<MovingAverageTooltip\n\t\t\t\t\t\tonClick={e => console.log(e)}\n\t\t\t\t\t\torigin={[-38, 5]}\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tyAccessor: ema20.accessor(),\n\t\t\t\t\t\t\t\ttype: ema20.type(),\n\t\t\t\t\t\t\t\tstroke: ema20.stroke(),\n\t\t\t\t\t\t\t\twindowSize: ema20.options().windowSize,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tyAccessor: ema50.accessor(),\n\t\t\t\t\t\t\t\ttype: ema50.type(),\n\t\t\t\t\t\t\t\tstroke: ema50.stroke(),\n\t\t\t\t\t\t\t\twindowSize: ema50.options().windowSize,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={2}\n\t\t\t\t\tyExtents={d => d.volume}\n\t\t\t\t\theight={100} origin={(w, h) => [0, h - 475]}\n\t\t\t\t>\n\t\t\t\t\t<YAxis axisAt=\"left\" orient=\"left\" ticks={5} tickFormat={format(\".2s\")}/>\n\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"left\"\n\t\t\t\t\t\torient=\"left\"\n\t\t\t\t\t\tdisplayFormat={format(\".4s\")} />\n\n\t\t\t\t\t<BarSeries yAccessor={d => d.volume} fill={d => d.close > d.open ? \"#6BA583\" : \"#FF0000\"} />\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={3}\n\t\t\t\t\tyExtents={[0, 100]}\n\t\t\t\t\theight={125} origin={(w, h) => [0, h - 375]} padding={{ top: 10, bottom: 10 }}\n\t\t\t\t>\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" showTicks={false} outerTickSize={0} />\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\"\n\t\t\t\t\t\ttickValues={[20, 50, 80]} />\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\n\n\t\t\t\t\t<StochasticSeries\n\t\t\t\t\t\tyAccessor={d => d.fastSTO}\n\t\t\t\t\t\t{...stoAppearance} />\n\t\t\t\t\t<StochasticTooltip\n\t\t\t\t\t\torigin={[-38, 15]}\n\t\t\t\t\t\tyAccessor={d => d.slowSTO}\n\t\t\t\t\t\toptions={slowSTO.options()}\n\t\t\t\t\t\tappearance={stoAppearance}\n\t\t\t\t\t\tlabel=\"Slow STO\" />\n\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={4}\n\t\t\t\t\tyExtents={[0, 100]}\n\t\t\t\t\theight={125} origin={(w, h) => [0, h - 250]} padding={{ top: 10, bottom: 10 }}\n\t\t\t\t>\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" showTicks={false} outerTickSize={0} />\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\"\n\t\t\t\t\t\ttickValues={[20, 50, 80]} />\n\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\n\n\t\t\t\t\t<StochasticSeries\n\t\t\t\t\t\tyAccessor={d => d.slowSTO}\n\t\t\t\t\t\t{...stoAppearance} />\n\n\t\t\t\t\t<StochasticTooltip\n\t\t\t\t\t\torigin={[-38, 15]}\n\t\t\t\t\t\tyAccessor={d => d.fastSTO}\n\t\t\t\t\t\toptions={fastSTO.options()}\n\t\t\t\t\t\tappearance={stoAppearance}\n\t\t\t\t\t\tlabel=\"Fast STO\" />\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={5}\n\t\t\t\t\tyExtents={[0, 100]}\n\t\t\t\t\theight={125} origin={(w, h) => [0, h - 125]} padding={{ top: 10, bottom: 10 }}\n\t\t\t\t>\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" {...xGrid} />\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\"\n\t\t\t\t\t\ttickValues={[20, 50, 80]} />\n\n\t\t\t\t\t<MouseCoordinateX\n\t\t\t\t\t\tat=\"bottom\"\n\t\t\t\t\t\torient=\"bottom\"\n\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\n\t\t\t\t\t<StochasticSeries\n\t\t\t\t\t\tyAccessor={d => d.fullSTO}\n\t\t\t\t\t\t{...stoAppearance} />\n\n\t\t\t\t\t<StochasticTooltip\n\t\t\t\t\t\torigin={[-38, 15]}\n\t\t\t\t\t\tyAccessor={d => d.fullSTO}\n\t\t\t\t\t\toptions={fullSTO.options()}\n\t\t\t\t\t\tappearance={stoAppearance}\n\t\t\t\t\t\tlabel=\"Full STO\" />\n\t\t\t\t</Chart>\n\t\t\t\t<CrossHairCursor />\n\t\t\t</ChartCanvas>\n\t\t);\n\t}\n}\nCandleStickChartWithFullStochasticsIndicator.propTypes = {\n\tdata: PropTypes.array.isRequired,\n\twidth: PropTypes.number.isRequired,\n\tratio: PropTypes.number.isRequired,\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n};\n\nCandleStickChartWithFullStochasticsIndicator.defaultProps = {\n\ttype: \"svg\",\n};\n\nCandleStickChartWithFullStochasticsIndicator = fitWidth(CandleStickChartWithFullStochasticsIndicator);\n\nexport default CandleStickChartWithFullStochasticsIndicator;\n","import React, { Component } from 'react';\nimport { chartRange } from '../Adapter';\nimport { Button } from 'semantic-ui-react'\nimport { v4 } from 'uuid';\n\n\n\nclass RangePicker extends Component {\n\n    handleClick=(event, {name})=>{\n        // console.log(name)\n        this.props.selectRange(name);\n    }\n\n    generateButton =()=>{\n        return chartRange.map(e=>{\n            return <Button key={v4()} onClick={this.handleClick} name={e}>{e.toUpperCase()}</Button>\n        })\n    }\n    render() {\n\n        return (\n            <div>\n                  <Button.Group>\n                    {this.generateButton()}\n                </Button.Group>\n            </div>\n        );\n    }\n}\n\nexport default RangePicker;","import React, { Component } from 'react';\nimport MainChart from './MainChart';\nimport { parseData } from '../Utility';\nimport { handleErrors , getChart} from '../Adapter';\nimport RangePicker from './RangePicker';\nimport AutoSearch from './AutoSearch';\nimport debounce from 'lodash/debounce';\n\n\nclass MainChartContainer extends Component {\n    state={\n        chartData: [],\n        range:\"6m\",\n        symbol:'aapl'\n    }\n\n    componentDidMount(){\n        this.getChartData(this.state.symbol)\n    }\n\n    selectRange=(range)=>{\n        console.log(\"range\", range)\n        this.setState({range}, ()=>this.getChartData(this.state.symbol, range))\n    }\n\n    setSymbol=(symbol)=>{\n        this.setState({symbol}, ()=>this.getChartData(this.state.symbol))\n    }\n\n    getChartData= debounce((symbol, range=\"6m\")=>{\n        // console.log(\"gets called\", symbol)\n        getChart(symbol, range)\n        .then(handleErrors)\n        .then( d=> {\n            let data = parseData(d);\n            // console.log(data)\n            this.setState({chartData:data})\n        })\n        .catch(e=>{\n            this.setState({chartData:[]})\n            console.log(\"invalid symbol\");\n        })\n    }, 500)\n\n\n    render() {\n        // console.log( this.state.chartData.length)\n        return (\n            <div>\n                <AutoSearch    setSymbol={this.setSymbol}\n                    searchData = {this.props.searchData}/>\n\n                {this.state.chartData.length > 0?\n                <div>\n                <RangePicker selectRange={this.selectRange}/>\n                <MainChart data={this.state.chartData}/>\n                </div>\n                : null\n                }\n            </div>\n        );\n    }\n}\n\nexport default MainChartContainer;","import React, { Component } from 'react';\nimport { fetchUserInfo, handleErrors, getSymbols  } from '../Adapter';\nimport NavBar from './Navbar';\nimport Home from './Home';\nimport Login from './Login';\nimport Signup from './Signup';\nimport Trades from './Trades';\nimport Portfolio from './Portfolio';\nimport MainChartContainer from './MainChartContainer';\n\nclass Container extends Component {\n    state = { \n        activeItem: 'home',\n        userID:null,\n        userEmail:null,\n        userName:null,\n        stocks:[],\n        balance:null,\n        searchData:[]\n     }\n\n     componentDidMount(){\n        this.checkToken()\n        this.getAllSymbols()\n     }\n\n     componentWillUnmount(){\n        this.clearState();\n     }\n\n     clearState=()=>{\n        this.setState({\n            activeItem: 'home',\n            userID:null,\n            userEmail:null,\n            userName:null,\n            stocks:[],\n            balance:null\n         })\n     }\n\n     getAllSymbols=()=>{\n        getSymbols()\n            .then(handleErrors)\n            .then(data=> this.setState({searchData: data.map(this.parseSymbols)}))\n            .catch(()=> console.log(\"FETCH SYMBOLS ERROR!!!\"))\n     }\n\n     parseSymbols=(data)=>{\n         return {\n             title:data.symbol,\n             name:data.name\n         }\n     }\n\n     afterTrade=(data)=>{\n         console.log(\"====afterTrade=====\")\n         const userInfo={id:this.state.userID, email:this.state.userEmail};\n         this.saveDataToState(data, userInfo);\n\n        // console.log(data)\n        // this.setState(data)\n     }\n\n\n\n     checkToken=()=>{\n        let token = localStorage.getItem('token');\n        if(token){\n            this.parseToken(token)\n        }else{\n            this.clearState();\n        }\n     }\n\n     saveDataToState=(data, userInfo)=>{\n        this.setState({\n            userID:userInfo.id,\n            userEmail:userInfo.email,\n            userName:data.user.charAt(0).toUpperCase() + data.user.slice(1),\n            stocks:data.stocks,\n            balance:data.balance\n\n        },()=> console.log())\n     }\n\n     parseToken=(token)=>{\n         let userInfo = JSON.parse(atob(token.split(\".\")[1]))\n\n         fetchUserInfo(token, userInfo.id)\n            .then(handleErrors)\n            .then((d)=> this.saveDataToState(d, userInfo))\n            .catch(d=>console.log(\"TOKEN ERROR! CANT FETCH USER INFO!\"))\n         console.log()\n     }\n    \n    handleBackHome=()=>{\n        this.setState({activeItem:'home'}, ()=>this.checkToken())\n    }\n\n    handleLogout=()=>{\n        localStorage.removeItem('token');\n        this.checkToken();\n        // console.log(\"logout\")\n    }\n\n    handleMenu=(name) => this.setState({ activeItem: name })\n\n\n    displayContent=() =>{\n\n        switch (this.state.activeItem) {\n            case \"home\":\n                return < Home \n                    userID={this.state.userID}\n                    userName={this.state.userName}\n                    searchData={this.state.searchData}\n                    />\n\n            case \"portfolio\":\n                if(!this.state.userID) return < Home />;\n                return < Portfolio \n                            balance={this.state.balance}\n                            userID={this.state.userID}\n                            stocks={this.state.stocks} \n                            searchData={this.state.searchData}\n                            afterTrade={this.afterTrade}/>\n            case \"charts\":\n                if(!this.state.userID) return < Home />;\n                return <MainChartContainer \n                    searchData={this.state.searchData}\n                    />;\n            case \"trades\":\n                if(!this.state.userID) return < Home />;\n\n                return < Trades userID={this.state.userID}\n                        />\n\n            case \"login\":\n                return < Login backToHome={this.handleBackHome}/>\n\n            case \"signup\":\n                return < Signup backToHome={this.handleBackHome}/>\n\n            default: \n                return < Home />\n        }\n    }\n\n\n\n    render() {\n        \n        return (\n            <div>\n                <NavBar \n                    handleMenu={this.handleMenu}\n                    activeItem={this.state.activeItem}\n                    userName={this.state.userName}\n                    handleLogout={this.handleLogout}\n\n                    />\n                \n                {this.displayContent()}\n            </div>\n        );\n    }\n}\n\nexport default Container;","import React, { Component } from 'react';\nimport './App.css';\nimport Container from './components/Container'\n// import NavBar from './components/Navbar'\n\nclass App extends Component {\n  render() {\n    const height = window.innerHeight;\n    return (\n      <div className=\"App\" style={{height}}>\n \n        <Container />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'semantic-ui-css/semantic.min.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}