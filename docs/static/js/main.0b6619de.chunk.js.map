{"version":3,"sources":["Adapter.js","components/Navbar.js","components/FocusList.js","components/Card.js","components/CardContainer.js","components/AutoSearch.js","components/SearchForm.js","components/Home.js","components/Login.js","components/Signup.js","components/Trades.js","components/BuySellForm.js","components/StockList.js","components/StockChart.js","components/ChartContainer.js","Utility.js","components/Portfolio.js","components/MainChart.js","components/RangePicker.js","components/MainChartContainer.js","components/Container.js","App.js","serviceWorker.js","index.js"],"names":["backendUrl","handleErrors","response","ok","Error","statusText","json","fetchStockQuote","symbol","fetch","fetchBatchQuote","symbols","sendTrade","trade","userID","token","url","config","method","headers","Authorization","Content-Type","Data-Type","body","JSON","stringify","chartRange","getChart","range","arguments","length","undefined","indexOf","toLowerCase","concat","Navbar","handleItemClick","e","_ref","name","_this","props","handleMenu","displayButtons","activeItem","login","react_default","a","createElement","Menu","Item","position","Button","active","onClick","color","style","marginLeft","logout","userName","handleLogout","this","Segment","inverted","pointing","secondary","Component","FocusList","generateTables","colorCell","value","Table","Cell","negative","positive","stocks","map","change","changePercent","latestPrice","percent","toFixed","toString","Row","key","Date","now","Header","HeaderCell","Body","StockCard","data","_this$props$data$quot","quote","companyName","avgTotalVolume","high","low","arrow","fontColor","Card","fluid","Content","Icon","Meta","Description","extra","CardContainer","Grid","columns","Column","components_Card","etfs","resultRenderer","title","Label","content","SearchExampleStandard","state","isLoading","results","resetComponent","setState","handleResultSelect","_ref2","result","setSymbol","handleSearchChange","_ref3","toUpperCase","setTimeout","re","RegExp","_","escapeRegExp","output","filter","searchData","test","slice","outputName","excactOutput","blurOuput","arrayUnique","Object","toConsumableArray","_this$state","Search","loading","onResultSelect","onSearchChange","debounce","leading","placeholder","input","icon","iconPosition","array","i","j","splice","SearchForm","handleChange","event","getStockPrice","then","head","catch","d","_this$state$quote","latestTime","AutoSearch_SearchExampleStandard","Home","focus","getInfo","console","log","interval","setInterval","clearInterval","message","className","relaxed","basic","components_FocusList","margin","components_SearchForm","components_CardContainer","Login","email","password","handleSumbit","preventDefault","user","postSessions","localStorage","setItem","backToHome","alert","keys","error","handleInput","_this$setState","defineProperty","displayMessage","message1","Message","_this$state2","textAlign","height","verticalAlign","maxWidth","as","Form","size","stacked","Input","onChange","type","Signup","username","passwordReenter","valid","r","postUser","checkEmail","checkPassword","validate","signupButton","disabled","Trades","trades","meta","activePage","getTrades","page","fetchUserHistory","getItem","storeData","current_page","created_at","stock_symbol","quantity","price","action","estTime","toDateString","handlePageSelect","topPages","total_pages","Pagination","onPageChange","defaultActivePage","totalPages","BuySellForm","clearState","getPeriodicUpdate","handleBuySumbit","total","validBuy","balance","handleBuy","handleSellSubmit","handleSell","handleSearchInput","parseInt","validateBuy","validateSell","buyButton","sellButton","validSell","displayQuote","displayTotal","reminder","Group","Or","StockList","cellColor","status","sort","b","localeCompare","openPrice","reduce","acc","canvasGradient","createVerticalLinearGradient","stop","hexToRGBA","AreaChart","_this$props","width","ratio","date","beginDate","es","left","right","top","bottom","seriesName","xAccessor","xScale","scaleTime","xExtents","id","yExtents","close","x1","y1","x2","y2","offset","stopColor","stopOpacity","axes","axisAt","orient","ticks","coordinates","at","displayFormat","timeFormat","format","series","yAccessor","fill","strokeWidth","interpolation","curveMonotoneX","React","defaultProps","fitWidth","ChartContainer","isDataChange","next","nextProps","StockChart","parseDate","timeParse","parseData","objectSpread","Portfolio","context","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","isUpdateNeeded","prevProps","changed","forEach","getChartData","chartData","getPrice","getOpenPrice","storePriceToState","updateLatestPrice","push","open","fetchStockPrice","buyStock","sym","afterTrade","validateButtons","sellStock","n","prevState","components_StockList","Divider","vertical","components_BuySellForm","selected","components_ChartContainer","stoAppearance","stroke","assign","StochasticSeries","CandleStickChartWithFullStochasticsIndicator","initialData","yGrid","innerTickSize","tickStrokeOpacity","xGrid","ema20","ema","options","windowSize","merge","c","accessor","ema50","slowSTO","stochasticOscillator","kWindowSize","fastSTO","fullSTO","dWindowSize","calculatedData","_xScaleProvider","discontinuousTimeScaleProvider","inputDateAccessor","xScaleProvider","displayXAccessor","last","Math","max","padding","showTicks","outerTickSize","itemType","edgeAt","xValue","strokeDasharray","tooltip","origin","volume","w","h","tickFormat","tickValues","appearance","label","RangePicker","handleClick","selectRange","generateButton","v4","MainChartContainer","components_RangePicker","MainChart","Container","userEmail","getAllSymbols","parseSymbols","userInfo","saveDataToState","checkToken","parseToken","charAt","parse","atob","split","fetchUserInfo","handleBackHome","removeItem","displayContent","components_Home","components_Portfolio","components_MainChartContainer","components_Trades","components_Login","components_Signup","components_Navbar","App","window","innerHeight","components_Container","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"gRACMA,UAAW,kDASV,SAASC,EAAaC,GAEzB,IAAKA,EAASC,GACV,MAAMC,MAAMF,EAASG,YAEzB,OAAOH,EAASI,OA8Db,SAASC,EAAgBC,GAE5B,OAAOC,MADKT,EAAW,aAAaQ,GAIjC,SAASE,EAAgBC,GAE5B,OAAOF,MADKT,EAAW,aAAaW,GAIjC,SAASC,EAAUC,EAAOC,EAAQC,GACrC,IAAMC,EAAMhB,EAAW,WAAWc,EAC9BG,EAAO,CACHC,OAAQ,OACRC,QAAS,CACLC,cAAiBL,EACjBM,eAAgB,mBAChBC,YAAa,oBAEjBC,KAAMC,KAAKC,UAAU,CAACZ,WAG9B,OAAOJ,MAAMO,EAAKC,GAQf,IAAMS,EAAa,CAAC,KAAK,KAAM,KAAK,MAAM,KAAK,MAC/C,SAASC,EAASnB,GAAmB,IAAXoB,EAAWC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAL,MACY,GAA5CH,EAAWM,QAAQJ,EAAMK,iBAAsBL,EAAQ,MAC1D,IAAMZ,EAAG,wCAAAkB,OAA0C1B,EAA1C,WAAA0B,OAA0DN,GACnE,OAAOnB,MAAMO,kCCtBFmB,6MAnFXC,gBAAkB,SAACC,EAADC,GAAA,IAAMC,EAAND,EAAMC,KAAN,OAAiBC,EAAKC,MAAMC,WAAWH,MAEzDI,eAAe,WAAI,IACPC,EAAeJ,EAAKC,MAApBG,WACJC,EAASC,EAAAC,EAAAC,cAACC,EAAA,EAAKC,KAAN,CAAWC,SAAS,SACzBL,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACJb,KAAK,SACLc,OAAuB,WAAfT,EACRU,QAASd,EAAKJ,gBACdmB,MAAM,SAJF,UAOJT,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACIb,KAAK,QACLc,OAAuB,UAAfT,EACRU,QAASd,EAAKJ,gBACdoB,MAAO,CAAEC,WAAY,SACrBF,MAAM,SALV,UAUAG,EAAQZ,EAAAC,EAAAC,cAACC,EAAA,EAAKC,KAAN,CAAWC,SAAS,SAApB,YACEX,EAAKC,MAAMkB,SACrBb,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACIb,KAAK,SACLe,QAASd,EAAKC,MAAMmB,aACpBJ,MAAO,CAAEC,WAAY,OACrBF,MAAM,SAJV,WAWJ,OAAGf,EAAKC,MAAMkB,SACHD,EAEAb,2EAKN,IACGD,EAAeiB,KAAKpB,MAApBG,WACR,OACIE,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAASC,UAAQ,GACbjB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMc,UAAQ,EAACC,UAAQ,EAACC,WAAS,GACjCnB,EAAAC,EAAAC,cAACC,EAAA,EAAKC,KAAN,CAAWX,KAAK,OAAOc,OAAuB,SAAfT,EAAuBU,QAASO,KAAKzB,kBACpEU,EAAAC,EAAAC,cAACC,EAAA,EAAKC,KAAN,CACIX,KAAK,YACLc,OAAuB,cAAfT,EACRU,QAASO,KAAKzB,kBAElBU,EAAAC,EAAAC,cAACC,EAAA,EAAKC,KAAN,CACIX,KAAK,SACLc,OAAuB,WAAfT,EACRU,QAASO,KAAKzB,kBAElBU,EAAAC,EAAAC,cAACC,EAAA,EAAKC,KAAN,CACIX,KAAK,SACLc,OAAuB,WAAfT,EACRU,QAASO,KAAKzB,kBASjByB,KAAKlB,2BA3EDuB,+BCgDNC,6MA9CXC,eAAe,WACX,IAAMC,EAAY,SAACd,EAAOe,GACtB,MAAY,aAATf,EAA4BT,EAAAC,EAAAC,cAACuB,EAAA,EAAMC,KAAP,CAAYC,UAAQ,GAAEH,GACzC,aAATf,EAA4BT,EAAAC,EAAAC,cAACuB,EAAA,EAAMC,KAAP,CAAYE,UAAQ,GAAEJ,GAC9CxB,EAAAC,EAAAC,cAACuB,EAAA,EAAMC,KAAP,KAAcF,IAI1B,OAAQ9B,EAAKC,MAAMkC,OAAOC,IAAI,SAAAvC,GAAG,IAErB7B,EAA8C6B,EAA9C7B,OAAQqE,EAAsCxC,EAAtCwC,OAAQC,EAA8BzC,EAA9ByC,cAAeC,EAAe1C,EAAf0C,YAClCC,GAAyB,IAAdF,GAAmBG,QAAQ,GAAGC,WAAW,IACpD3B,EAAQsB,EAAO,EAAI,WAAW,WAElC,OADc,IAAXA,IAActB,EAAM,QAChBT,EAAAC,EAAAC,cAACuB,EAAA,EAAMY,IAAP,CAAWC,IAAKC,KAAKC,MAAM9E,GACjC6D,EAAUd,EAAO/C,GACjB6D,EAAUd,EAAOsB,GACjBR,EAAUd,EAAOyB,GACjBX,EAAUd,EAAOwB,+EAMtB,OACIjC,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAACuB,EAAA,EAAD,KACAzB,EAAAC,EAAAC,cAACuB,EAAA,EAAMgB,OAAP,KACIzC,EAAAC,EAAAC,cAACuB,EAAA,EAAMY,IAAP,KACIrC,EAAAC,EAAAC,cAACuB,EAAA,EAAMiB,WAAP,eACA1C,EAAAC,EAAAC,cAACuB,EAAA,EAAMiB,WAAP,mBACA1C,EAAAC,EAAAC,cAACuB,EAAA,EAAMiB,WAAP,gBACA1C,EAAAC,EAAAC,cAACuB,EAAA,EAAMiB,WAAP,mBAGJ1C,EAAAC,EAAAC,cAACuB,EAAA,EAAMkB,KAAP,KACC5B,KAAKpB,MAAMkC,OAAO7C,OAAS,EAAG+B,KAAKO,iBAAiB,eAtCjDF,+BCqCTwB,mLAnCP,GAAG7B,KAAKpB,MAAMkD,KAAK,KAAAC,EAC6D/B,KAAKpB,MAAMkD,KAAKE,MAArFC,EADQF,EACRE,YAAaf,EADLa,EACKb,YAAavE,EADlBoF,EACkBpF,OAAQqE,EAD1Be,EAC0Bf,OAAQkB,EADlCH,EACkCG,eAAeC,EADjDJ,EACiDI,KAAKC,EADtDL,EACsDK,IACjEC,EAAQrB,EAAQ,EAAG,aAAc,WACjCtB,EAAQsB,EAAQ,EAAG,MAAO,QAChB,IAAXA,IACCtB,EAAM,QACN2C,EAAQ,IAEZ,IAAMC,EAAY,CAAC5C,SACnB,OACIT,EAAAC,EAAAC,cAACoD,EAAA,EAAD,CAAM7C,MAAOA,EAAO8C,OAAK,GACzBvD,EAAAC,EAAAC,cAACoD,EAAA,EAAKE,QAAN,KACAxD,EAAAC,EAAAC,cAACoD,EAAA,EAAKb,OAAN,CAAa/B,MAAO2C,GAApB,IAEEpB,EAFF,IAEgBvE,EAFhB,KAE0BqE,EACtB/B,EAAAC,EAAAC,cAACuD,EAAA,EAAD,CAAMhE,KAAM2D,KAEhBpD,EAAAC,EAAAC,cAACoD,EAAA,EAAKI,KAAN,KACI1D,EAAAC,EAAAC,cAAA,oBAAagD,EAAb,QAAwBC,IAE5BnD,EAAAC,EAAAC,cAACoD,EAAA,EAAKK,YAAN,KAAmBX,IAEnBhD,EAAAC,EAAAC,cAACoD,EAAA,EAAKE,QAAN,CAAcI,OAAK,GAAnB,WACaX,IAKjB,OACIjD,EAAAC,EAAAC,cAAA,mBAhCQkB,aCuCTyC,mLAjCP,OACI7D,EAAAC,EAAAC,cAAA,WAGIF,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAC4D,EAAA,EAAD,CAAMC,QAAS,GACX/D,EAAAC,EAAAC,cAAC4D,EAAA,EAAKzB,IAAN,KACArC,EAAAC,EAAAC,cAAC4D,EAAA,EAAKE,OAAN,KACAhE,EAAAC,EAAAC,cAAC+D,EAAD,CAAMpB,KAAO9B,KAAKpB,MAAMuE,KAAX,OAGblE,EAAAC,EAAAC,cAAC4D,EAAA,EAAKE,OAAN,KACAhE,EAAAC,EAAAC,cAAC+D,EAAD,CAAMpB,KAAO9B,KAAKpB,MAAMuE,KAAX,QAIblE,EAAAC,EAAAC,cAAC4D,EAAA,EAAKzB,IAAN,KACArC,EAAAC,EAAAC,cAAC4D,EAAA,EAAKE,OAAN,KACAhE,EAAAC,EAAAC,cAAC+D,EAAD,CAAMpB,KAAM9B,KAAKpB,MAAMuE,KAAX,OAEZlE,EAAAC,EAAAC,cAAC4D,EAAA,EAAKE,OAAN,KACAhE,EAAAC,EAAAC,cAAC+D,EAAD,CAAMpB,KAAM9B,KAAKpB,MAAMuE,KAAX,iBA1BJ9C,kFCKtB+C,EAAiB,SAAA3E,GAAA,IAAG4E,EAAH5E,EAAG4E,MAAO3E,EAAVD,EAAUC,KAAV,OAAqBO,EAAAC,EAAAC,cAACmE,EAAA,EAAD,CAAOC,QAAO,GAAAlF,OAAKgF,EAAM,IAAI3E,MAOpD8E,6MACjBC,MAAM,CACFC,WAAW,EACXC,QAAS,GACTlD,MAAO,MAObmD,eAAiB,kBAAMjF,EAAKkF,SAAS,CAAEH,WAAW,EAAOC,QAAS,GAAIlD,MAAO,QAE7EqD,mBAAqB,SAACtF,EAADuF,GAAmB,IAAbC,EAAaD,EAAbC,OAEzBrF,EAAKkF,SAAS,CAAEpD,MAAOuD,EAAOX,QAC9B1E,EAAKC,MAAMqF,UAAUD,EAAOX,UAG9Ba,mBAAqB,SAAC1F,EAAD2F,GAAkB,IAAZ1D,EAAY0D,EAAZ1D,MACzB9B,EAAKkF,SAAS,CAAEH,WAAW,EAAMjD,MAAMA,EAAM2D,gBAC7CzF,EAAKC,MAAMqF,UAAUxD,GAErB4D,WAAW,WACT,GAAI1F,EAAK8E,MAAMhD,MAAMxC,OAAS,EAAG,OAAOU,EAAKiF,iBAE7C,IAAMU,EAAK,IAAIC,OAAOC,IAAEC,aAAa9F,EAAK8E,MAAMhD,OAAQ,KAKlDiE,EAASF,IAAEG,OAAOhG,EAAKC,MAAMgG,WAJnB,SAAAZ,GAAM,OAAIM,EAAGO,KAAKb,EAAOX,SAIeyB,MAAM,EAAE,GAC1DC,EAAaP,IAAEG,OAAOhG,EAAKC,MAAMgG,WAJnB,SAAAZ,GAAM,OAAIM,EAAGO,KAAKb,EAAOtF,QAImBoG,MAAM,EAAE,GAClEE,EAAeR,IAAEG,OAAOhG,EAAKC,MAAMgG,WAJtB,SAAAZ,GAAM,OAAIA,EAAOX,QAAU1E,EAAK8E,MAAMhD,QAMnDwE,EAAYC,EAAYC,OAAAC,EAAA,EAAAD,CAAIT,GAALrG,OAAA8G,OAAAC,EAAA,EAAAD,CAAgBJ,KAAaD,MAAM,EAAE,GAElEnG,EAAKkF,SAAS,CACZH,WAAW,EACXC,QAASuB,EAAYC,OAAAC,EAAA,EAAAD,CAAIH,GAAL3G,OAAA8G,OAAAC,EAAA,EAAAD,CAAsBF,QAE3C,0FAjCHjF,KAAK4D,kDAsCE,IAAAyB,EAC+BrF,KAAKyD,MAAnCC,EADD2B,EACC3B,UAAWjD,EADZ4E,EACY5E,MAAOkD,EADnB0B,EACmB1B,QAE1B,OACM1E,EAAAC,EAAAC,cAACmG,EAAA,EAAD,CAAQ9C,OAAK,EACX+C,QAAS7B,EACT8B,eAAgBxF,KAAK8D,mBACrB2B,eAAgBjB,IAAEkB,SAAS1F,KAAKkE,mBAAoB,IAAK,CAAEyB,SAAS,IACpEhC,QAASA,EACTlD,MAAOA,EACP2C,eAAgBA,EAChBwC,YAAa,sBACbC,MAAO,CAAEC,KAAM,SAAUC,aAAc,iBA1DA1F,aAkEnD,SAAS6E,EAAYc,GAEnB,IADA,IAAI9G,EAAI8G,EAAM3H,SACN4H,EAAE,EAAGA,EAAE/G,EAAEjB,SAAUgI,EACvB,IAAI,IAAIC,EAAED,EAAE,EAAGC,EAAEhH,EAAEjB,SAAUiI,EACtBhH,EAAE+G,KAAO/G,EAAEgH,IACVhH,EAAEiH,OAAOD,IAAK,GAI1B,OAAOhH,MCCMkH,6MAnFX3C,MAAM,CACF9G,OAAO,OACPqF,MAAM,QAOVqE,aAAa,SAACC,EAAD7H,GAAkB,IAATgC,EAAShC,EAATgC,MAElB9B,EAAKkF,SAAS,CAAClH,OAAO8D,EAAM2D,eAAgBzF,EAAK4H,kBAGrDA,cAAgBb,IAAS,WAErBhJ,EAAgBiC,EAAK8E,MAAM9G,QACtB6J,KAAKpK,GACLoK,KAAK,SAAA1E,GACc,MAAbA,EAAK2E,KAEJ9H,EAAKkF,SAAS,CAAC7B,MAAMF,IAErBnD,EAAKkF,SAAS,CAAC7B,MAAM,gBAE1B0E,MAAM,SAACC,GAAD,OAAKhI,EAAKkF,SAAS,CAAC7B,MAAM,iBAExC,OAEHiC,UAAU,SAACtH,GAEPgC,EAAKkF,SAAS,CAAClH,UAAQgC,EAAK4H,mGAzB5BvG,KAAKuG,iDA+BL,GAAsB,OAAnBvG,KAAKyD,MAAMzB,OAAoC,cAApBhC,KAAKyD,MAAMzB,MAAqB,IAAA4E,EACO5G,KAAKyD,MAAMzB,MAAtEG,EADoDyE,EACpDzE,KAAMC,EAD8CwE,EAC9CxE,IAAKH,EADyC2E,EACzC3E,YAAaf,EAD4B0F,EAC5B1F,YAAaF,EADe4F,EACf5F,OAAQ6F,EADOD,EACPC,WAEvD,IAAIxE,EAAQrB,EAAQ,EAAG,aAAc,WACjCtB,EAAQsB,EAAQ,EAAG,MAAO,QAChB,IAAXA,IACCtB,EAAM,QACN2C,EAAQ,IAGZ,IAAMC,EAAY,CAAC5C,SAEnB,OACIT,EAAAC,EAAAC,cAACoD,EAAA,EAAD,CAAMC,OAAK,EAAC9C,MAAOA,GACnBT,EAAAC,EAAAC,cAACoD,EAAA,EAAKE,QAAN,KACAxD,EAAAC,EAAAC,cAACoD,EAAA,EAAKb,OAAN,CAAa/B,MAAO2C,GACpBrD,EAAAC,EAAAC,cAAC2H,EAAD,CACIlC,WAAY5E,KAAKpB,MAAMgG,WACvBX,UAAWjE,KAAKiE,YAHpB,WAkBa/C,EAlBb,aAkBoCF,EAlBpC,IAkB4C/B,EAAAC,EAAAC,cAACuD,EAAA,EAAD,CAAMhE,KAAM2D,KAExDpD,EAAAC,EAAAC,cAACoD,EAAA,EAAKI,KAAN,KACQ1D,EAAAC,EAAAC,cAAA,oBAAagD,EAAb,QAAwBC,IAE5BnD,EAAAC,EAAAC,cAACoD,EAAA,EAAKK,YAAN,iBAA4BX,EAA5B,MAA4C4E,YA5EnCxG,aCwDV0G,6MAxDXtD,MAAM,CACFuD,MAAM,GACN7D,KAAK,MAaT8D,QAAQ,WP8FDrK,MADI,4DO5FI4J,KAAKpK,GAAcoK,KAAK,SAAA1E,GAAI,OAAInD,EAAKkF,SAAS,CAACmD,MAAMlF,MAChEjF,EAAgB,CAAC,MAAO,MAAO,MAAO,QACjC2J,KAAKpK,GACLoK,KAAK,SAAA1E,GAAI,OAAInD,EAAKkF,SAAS,CAACV,KAAKrB,MACjC4E,MAAM,SAAAC,GAAC,OAAEO,QAAQC,IAAI,2GAd1BnH,KAAKiH,UACLjH,KAAKoH,SAAUC,YAAYrH,KAAKiH,QAAU,oDAI1CK,cAActH,KAAKoH,2CAanB,IAAMtH,EAAWE,KAAKpB,MAAM3B,OAAS+C,KAAKpB,MAAMkB,SAAW,QACrDyH,EAASvH,KAAKpB,MAAM3B,OACpB,oBACA,oDACN,OACIgC,EAAAC,EAAAC,cAAA,OAAKqI,UAAU,kBACXvI,EAAAC,EAAAC,cAAA,sBACcW,EADd,KAGAb,EAAAC,EAAAC,cAAA,UACKoI,GAGLtI,EAAAC,EAAAC,cAAC4D,EAAA,EAAD,CAAMC,QAAS,EAAGyE,SAAO,GACrBxI,EAAAC,EAAAC,cAAC4D,EAAA,EAAKE,OAAN,KACAhE,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAASyH,OAAK,GACdzI,EAAAC,EAAAC,cAACwI,EAAD,CAAW7G,OAAQd,KAAKyD,MAAMuD,UAI9B/H,EAAAC,EAAAC,cAAC4D,EAAA,EAAKE,OAAN,CAAatD,MAAO,CAACiI,OAAO,YACxB3I,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAC0I,EAAD,CAAYjD,WAAY5E,KAAKpB,MAAMgG,aAEnC3F,EAAAC,EAAAC,cAAC2I,EAAD,CAAe3E,KAAMnD,KAAKyD,MAAMN,iBAjDrC9C,gDCkGJ0H,6MApGXtE,MAAM,CACFuE,MAAM,GACNC,SAAS,GACTV,QAAQ,QAYZW,aAAa,SAAC5B,GACVA,EAAM6B,iBACNjB,QAAQC,IAAIxI,EAAK8E,OAFC,IAAA4B,EAGQ1G,EAAK8E,ORShC,SAAsB2E,GACzB,IAAMjL,EAAMhB,EAAW,WACnBiB,EAAO,CACPC,OAAQ,OACRC,QAAS,CACLE,eAAgB,mBAChBC,YAAa,oBAEjBC,KAAMC,KAAKC,UAAUwK,IAEzB,OAAOxL,MAAMO,EAAIC,IQdbiL,CAJU,CACNL,MALc3C,EAGX2C,MAGHC,SANc5C,EAGJ4C,WAKKzB,KAAK7H,EAAKvC,cAAcoK,KAAM,SAAAG,GAC7CO,QAAQC,IAAIR,GACTA,EAAEzJ,OACDoL,aAAaC,QAAQ,QAAS5B,EAAEzJ,OAChCyB,EAAKC,MAAM4J,cAEXC,MAAMtD,OAAOuD,KAAK/B,GAAG,IAAKA,EAAExB,OAAOuD,KAAK/B,OAE3CD,MAAM,SAACiC,GACRhK,EAAKkF,SAAS,CAAC0D,QAAQ,mCAY/BqB,YAAc,SAACtC,EAAD7H,GAA0B,IAAAoK,EAAhBpI,EAAgBhC,EAAhBgC,MAAO/B,EAASD,EAATC,KAG3BC,EAAKkF,UAALgF,EAAA,GAAA1D,OAAA2D,EAAA,EAAA3D,CAAA0D,EAAgBnK,EAAM+B,GAAtB0E,OAAA2D,EAAA,EAAA3D,CAAA0D,EAAA,UADc,MACdA,OAGJE,eAAe,WACX,IAAIC,EAAW/J,EAAAC,EAAAC,cAAC8J,EAAA,EAAD,CAASvJ,MAAM,OACzBf,EAAK8E,MAAM8D,SAEhB,OAAO5I,EAAK8E,MAAM8D,QAASyB,EAAU,4FA/CrChJ,KAAK6D,SAAS,CACVmE,MAAM,GACNC,SAAS,GACTV,QAAQ,4CA0BHlL,GAET,GADA6K,QAAQC,IAAI9K,IACPA,EAASC,GACV,MAAMC,MAAMF,EAASG,YAEzB,OAAOH,EAASI,wCAgBX,IAAAyM,EACqBlJ,KAAKyD,MAAxBuE,EADFkB,EACElB,MAAOC,EADTiB,EACSjB,SACd,OACIhJ,EAAAC,EAAAC,cAAA,OAAKqI,UAAU,cAEfvI,EAAAC,EAAAC,cAAC4D,EAAA,EAAD,CAAMoG,UAAU,SAASxJ,MAAO,CAAEyJ,OAAQ,QAAUC,cAAc,UAChEpK,EAAAC,EAAAC,cAAC4D,EAAA,EAAKE,OAAN,CAAatD,MAAO,CAAE2J,SAAU,MAC9BrK,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CAAQ6H,GAAG,KAAK7J,MAAM,QAAQyJ,UAAU,UAAxC,gBAGAlK,EAAAC,EAAAC,cAACqK,EAAA,EAAD,CAAMC,KAAK,SACTxK,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAASyJ,SAAO,GACdzK,EAAAC,EAAAC,cAACqK,EAAA,EAAKG,MAAN,CAAYnH,OAAK,EAACsD,KAAK,OACvBrF,MAAOuH,EACP4B,SAAU5J,KAAK4I,YACf7C,aAAa,OACbH,YAAY,iBACZlH,KAAK,UACLO,EAAAC,EAAAC,cAACqK,EAAA,EAAKG,MAAN,CACEnH,OAAK,EACLsD,KAAK,OACLC,aAAa,OACbH,YAAY,WACZiE,KAAK,WACLD,SAAU5J,KAAK4I,YACflK,KAAK,WACL+B,MAAOwH,IAIThJ,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAQG,MAAM,QAAQ8C,OAAK,EAACiH,KAAK,QAAQhK,QAASO,KAAKkI,cAAvD,WAKHlI,KAAK+I,2BA7FF1I,aCgKLyJ,6MA/JXrG,MAAM,CACFuE,MAAM,GACN+B,SAAS,GACT9B,SAAS,GACT+B,gBAAgB,GAChBzC,QAAQ,KACR0C,OAAM,KAcV/B,aAAa,SAAC5B,GACVA,EAAM6B,iBACNjB,QAAQC,IAAIxI,EAAK8E,OAFC,IAAA4B,EAGmB1G,EAAK8E,OTT3C,SAAkB2E,GACrB,IAAMjL,EAAMhB,EAAW,QACnBiB,EAAO,CACPC,OAAQ,OACRC,QAAS,CACLE,eAAgB,mBAChBC,YAAa,oBAEjBC,KAAMC,KAAKC,UAAUwK,IAEzB,OAAOxL,MAAMO,EAAIC,GAAQoJ,KAAK,SAAA0D,GAAC,OAAIA,EAAEzN,USKjC0N,CALU,CACNnC,MALc3C,EAGX2C,MAGH+B,SANc1E,EAGH0E,SAIX9B,SAPc5C,EAGO4C,WAMVzB,KAAK7H,EAAKvC,cAAcoK,KAAM,SAAAG,GACzCO,QAAQC,IAAIR,GACTA,EAAEzJ,OACDoL,aAAaC,QAAQ,QAAS5B,EAAEzJ,OAEhCyB,EAAKC,MAAM4J,cAEXC,MAAMtD,OAAOuD,KAAK/B,GAAG,IAAKA,EAAExB,OAAOuD,KAAK/B,OAE3CD,MAAM,SAACiC,GACRhK,EAAKkF,SAAS,CAAC0D,QAAQ,+BAY/BqB,YAAc,SAACtC,EAAD7H,GAA0B,IAAAoK,EAAhBpI,EAAgBhC,EAAhBgC,MAAO/B,EAASD,EAATC,KAEvB6I,EAAU,KAEX5I,EAAKyL,aACJ7C,EAAU,0BACkB,KAAvB5I,EAAK8E,MAAMwE,SAChBV,EAAU,6BACL5I,EAAK0L,kBACV9C,EAAU,gCAGd5I,EAAKkF,UAALgF,EAAA,GAAA1D,OAAA2D,EAAA,EAAA3D,CAAA0D,EAAgBnK,EAAM+B,GAAtB0E,OAAA2D,EAAA,EAAA3D,CAAA0D,EAAA,UAA6BtB,GAA7BsB,GAAuClK,EAAK2L,aAGhDA,SAAS,WACiB,KAAnB3L,EAAK8E,MAAMuE,OACe,KAAtBrJ,EAAK8E,MAAMwE,UACXtJ,EAAK8E,MAAMwE,WAAatJ,EAAK8E,MAAMuG,gBACtCrL,EAAKkF,SAAS,CAACoG,OAAM,EAAM1C,QAAQ,KAEnC5I,EAAKkF,SAAS,CAACoG,OAAM,OAG7BlB,eAAe,WACX,IAAIC,EAAW/J,EAAAC,EAAAC,cAAC8J,EAAA,EAAD,CAASvJ,MAAM,OACzBf,EAAK8E,MAAM8D,SAEhB,OAAO5I,EAAK8E,MAAM8D,QAASyB,EAAU,QAGzCqB,cAAc,WACV,OAAO1L,EAAK8E,MAAMwE,WAAWtJ,EAAK8E,MAAMuG,mBAI5CI,WAAW,WACP,MAA4B,KAArBzL,EAAK8E,MAAMuE,SAGtBuC,aAAa,WACT,OAAG5L,EAAK8E,MAAMwG,MACHhL,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAQG,MAAM,QAAQ8C,OAAK,EAACiH,KAAK,QAAQhK,QAASd,EAAKuJ,cAAvD,WAEJjJ,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAQiL,UAAQ,EAAC9K,MAAM,QAAQ8C,OAAK,EAACiH,KAAK,QAAQhK,QAASd,EAAKuJ,cAAhE,kGArFPlI,KAAK6D,SAAS,CACVmE,MAAM,GACN+B,SAAS,GACT9B,SAAS,GACT+B,gBAAgB,GAChBzC,QAAQ,GACR0C,OAAM,yCA2BD5N,GAET,GADA6K,QAAQC,IAAI9K,IACPA,EAASC,GACV,MAAMC,MAAMF,EAASG,YAEzB,OAAOH,mCAoDF,IAAA6M,EACiDlJ,KAAKyD,MAApDuE,EADFkB,EACElB,MAAQ+B,EADVb,EACUa,SAAU9B,EADpBiB,EACoBjB,SAAU+B,EAD9Bd,EAC8Bc,gBACnC,OACI/K,EAAAC,EAAAC,cAAA,OAAKqI,UAAU,eAEfvI,EAAAC,EAAAC,cAAC4D,EAAA,EAAD,CAAMoG,UAAU,SAASxJ,MAAO,CAAEyJ,OAAQ,QAASC,cAAc,UAC/DpK,EAAAC,EAAAC,cAAC4D,EAAA,EAAKE,OAAN,CAAatD,MAAO,CAAE2J,SAAU,MAC9BrK,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CAAQ6H,GAAG,KAAK7J,MAAM,QAAQyJ,UAAU,UAAxC,mBAGAlK,EAAAC,EAAAC,cAACqK,EAAA,EAAD,CAAMC,KAAK,SACTxK,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAASyJ,SAAO,GACdzK,EAAAC,EAAAC,cAACqK,EAAA,EAAKG,MAAN,CAAYnH,OAAK,EAACsD,KAAK,OACnBpH,KAAK,QACLqH,aAAa,OACbH,YAAY,iBACZgE,SAAU5J,KAAK4I,YACfnI,MAAOuH,IACX/I,EAAAC,EAAAC,cAACqK,EAAA,EAAKG,MAAN,CAAYnH,OAAK,EAACsD,KAAK,OACnBpH,KAAK,WACLqH,aAAa,OACbH,YAAY,OACZgE,SAAU5J,KAAK4I,YACfnI,MAAOsJ,IACX9K,EAAAC,EAAAC,cAACqK,EAAA,EAAKG,MAAN,CACEnH,OAAK,EACL9D,KAAK,WACLoH,KAAK,OACLC,aAAa,OACbH,YAAY,WACZgE,SAAU5J,KAAK4I,YACfiB,KAAK,WACLpJ,MAAOwH,IAGThJ,EAAAC,EAAAC,cAACqK,EAAA,EAAKG,MAAN,CACEnH,OAAK,EACL9D,KAAK,kBACLoH,KAAK,OACLC,aAAa,OACbH,YAAY,wBACZgE,SAAU5J,KAAK4I,YACfiB,KAAK,WACLpJ,MAAOuJ,IAGRhK,KAAKuK,iBAGTvK,KAAK+I,2BAtJD1I,sBC2GNoK,6MAzGXhH,MAAM,CACFiH,OAAO,GACPC,KAAK,GACLC,WAAW,KAefxO,aAAe,SAACC,GAEhB,IAAKA,EAASC,GACV,MAAMC,MAAMF,EAASG,YAMzB,OAAOH,EAASI,UAGhBoO,UAAU,WAAU,IAATC,EAAS9M,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GVsBb,SAA0Bd,EAAOD,EAAQ6N,GAU5C,OAAOlO,MATKT,EAAW,WAAWc,EAAQ,SAAU6N,EACzC,CACHzN,OAAQ,MACRC,QAAS,CACLC,cAAiBL,EACjBM,eAAgB,mBAChBC,YAAa,uBU1BrBsN,CAFczC,aAAa0C,QAAQ,SAEXrM,EAAKC,MAAM3B,OAAQ6N,GACtCtE,KAAK7H,EAAKvC,cACVoK,KAAK7H,EAAKsM,WACVvE,MAAM,kBAAKQ,QAAQC,IAAI,cAGhC8D,UAAU,SAACnJ,GACPnD,EAAKkF,SAAS,CAAC6G,OAAO5I,EAAK4I,OAAQC,KAAK7I,EAAK6I,KAAMC,WAAW9I,EAAK6I,KAAKO,kBAG5E3K,eAAe,WACX,OAAO5B,EAAK8E,MAAMiH,OAAO3J,IAAI,SAAAvC,GAAG,IAEvB2M,EAAqD3M,EAArD2M,WAAYC,EAAyC5M,EAAzC4M,aAAcC,EAA2B7M,EAA3B6M,SAAUC,EAAiB9M,EAAjB8M,MAAOC,EAAU/M,EAAV+M,OAE5CC,EAAU,IAAIhK,KAAK2J,GAEvB,OAAOlM,EAAAC,EAAAC,cAACuB,EAAA,EAAMY,IAAP,CAAWC,IAAMC,KAAKC,MAAM2J,EAAaC,EAASF,GAC7DlM,EAAAC,EAAAC,cAACuB,EAAA,EAAMC,KAAP,KAAa6K,EAAQC,gBACrBxM,EAAAC,EAAAC,cAACuB,EAAA,EAAMC,KAAP,KAAayK,GACbnM,EAAAC,EAAAC,cAACuB,EAAA,EAAMC,KAAP,KAAa0K,GACbpM,EAAAC,EAAAC,cAACuB,EAAA,EAAMC,KAAP,KAAa2K,GACbrM,EAAAC,EAAAC,cAACuB,EAAA,EAAMC,KAAP,KAAa4K,SAKjBG,iBAAiB,SAACpF,EAAD7H,GAAuB,IAAdmM,EAAcnM,EAAdmM,WACtBjM,EAAKkM,UAAUD,MAInBe,SAAU,SAACpK,GACP,OAAG5C,EAAK8E,MAAMkH,KAAKiB,aAAejN,EAAK8E,MAAMkH,KAAKiB,YAAc,EACrD3M,EAAAC,EAAAC,cAAC0M,EAAA,EAAD,CAAYtK,IAAKA,EAChBuK,aAAcnN,EAAK+M,iBACnBK,kBAAmBpN,EAAK8E,MAAMkH,KAAKO,aACnCc,WAAYrN,EAAK8E,MAAMkH,KAAKiB,cAEjC,yFAjEP5L,KAAK6K,2DAIL7K,KAAK6D,SAAS,CACV6G,OAAO,GACPC,KAAK,GACLC,WAAW,qCA8Df,OACI3L,EAAAC,EAAAC,cAAA,OAAKqI,UAAU,gBACXvI,EAAAC,EAAAC,cAAA,2BAGCa,KAAK2L,SAAS,kBACf1M,EAAAC,EAAAC,cAACuB,EAAA,EAAD,KACIzB,EAAAC,EAAAC,cAACuB,EAAA,EAAMgB,OAAP,KACAzC,EAAAC,EAAAC,cAACuB,EAAA,EAAMY,IAAP,KACIrC,EAAAC,EAAAC,cAACuB,EAAA,EAAMiB,WAAP,aACA1C,EAAAC,EAAAC,cAACuB,EAAA,EAAMiB,WAAP,eACA1C,EAAAC,EAAAC,cAACuB,EAAA,EAAMiB,WAAP,eACA1C,EAAAC,EAAAC,cAACuB,EAAA,EAAMiB,WAAP,iBACA1C,EAAAC,EAAAC,cAACuB,EAAA,EAAMiB,WAAP,mBAIJ1C,EAAAC,EAAAC,cAACuB,EAAA,EAAMkB,KAAP,KACK5B,KAAKyD,MAAMiH,OAAOzM,OAAO,EAAI+B,KAAKO,iBAAiB,OAGvDP,KAAK2L,SAAS,2BAlGdtL,+BCgMN4L,6MA9LXxI,MAAM,CACF9G,OAAO,GACP0O,SAAS,EACT9D,QAAQ,KACR+D,MAAM,KACNrB,OAAM,KAaViC,WAAW,WACPvN,EAAKkF,SAAS,CACVlH,OAAO,GACP0O,SAAS,EACT9D,QAAQ,KACR+D,MAAM,KACNrB,OAAM,OAIdkC,kBAAkB,WACXxN,EAAK8E,MAAMwG,OAA6B,KAApBtL,EAAK8E,MAAM9G,QAE9BgC,EAAK4H,mBAIbA,cAAcb,IAAS,WAEnBhJ,EAAgBiC,EAAK8E,MAAM9G,QACtB6J,KAAKpK,GACLoK,KAAK,SAAA1E,GACF,GAAgB,MAAbA,EAAK2E,KAAY,CAChB,IAAIc,EAAU,YAAYzF,EAAKG,YAAa,uBAAyBH,EAAKZ,YAE1EvC,EAAKkF,SAAS,CAAC0D,UAAS+D,MAAMxJ,EAAKZ,YAAa+I,OAAM,SAEtDtL,EAAKkF,SAAS,CAACoG,OAAM,EAAM1C,QAAQ,SAExCb,MAAM,SAACC,GAAD,OAAKhI,EAAKkF,SAAS,CAACoG,OAAM,EAAO1C,QAAQ,UAEvD,OAGH6E,gBAAgB,WACZ,IAAIC,EAAQ1N,EAAK8E,MAAM6H,MAAM3M,EAAK8E,MAAM4H,SACrC1M,EAAKC,MAAM0N,UAAYD,EAAQ1N,EAAKC,MAAM2N,SAAW5N,EAAK8E,MAAMwG,OAC/DtL,EAAKC,MAAM4N,UAAU7N,EAAK8E,MAAM9G,OAAQgC,EAAK8E,MAAM4H,SAAU1M,EAAK8E,MAAM6H,UAIhFmB,iBAAiB,WACb9N,EAAKC,MAAM8N,WAAW/N,EAAK8E,MAAM9G,OAAQgC,EAAK8E,MAAM4H,SAAU1M,EAAK8E,MAAM6H,UAG7EqB,kBAAkB,SAAClM,GACF,KAAVA,GAAa9B,EAAK4H,gBACrB9F,EAAMA,EAAM2D,cACZzF,EAAKkF,SAAS,CAAClH,OAAO8D,GAAQ9B,EAAK2L,aAGvC1B,YAAc,SAACtC,EAAD7H,GAA0B,IAAhBgC,EAAgBhC,EAAhBgC,MAAO/B,EAASD,EAATC,KAE3B,OAAQA,GACJ,IAAK,SACY,KAAV+B,GAAa9B,EAAK4H,gBACrB9F,EAAMA,EAAM2D,cACZ,MACJ,IAAK,WAGG3D,EAFQ,WACHoE,KAAKpE,GACHmM,SAASnM,GAET,GAMnB9B,EAAKkF,SAALsB,OAAA2D,EAAA,EAAA3D,CAAA,GAAgBzG,EAAM+B,GAAQ9B,EAAK2L,aAGvCA,SAAS,WACL3L,EAAKC,MAAMiO,YAAYlO,EAAK8E,MAAM9G,OAAQgC,EAAK8E,MAAM4H,SAAU1M,EAAK8E,MAAM6H,OAC1E3M,EAAKC,MAAMkO,aAAanO,EAAK8E,MAAM9G,OAAQgC,EAAK8E,MAAM4H,aAI1D0B,UAAU,WACN,OAAGpO,EAAK8E,MAAMwG,OAAStL,EAAKC,MAAM0N,SACvBrN,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAQsB,UAAQ,EAACpB,QAASd,EAAKyN,iBAA/B,OACJnN,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAQsB,UAAQ,EAAC2J,UAAQ,GAAzB,UAEXwC,WAAW,WAEP,OAAGrO,EAAKC,MAAMqO,UACHhO,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAQqB,UAAQ,EAACnB,QAASd,EAAK8N,kBAA/B,QAEJxN,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAQqB,UAAQ,EAAC4J,UAAQ,GAAzB,WAGXzB,eAAiB,WACb,IAAIC,EAAW/J,EAAAC,EAAAC,cAAC8J,EAAA,EAAD,CAASvJ,MAAM,OAAf,wBAGf,OAAQf,EAAK8E,MAAMwG,OAA2B,KAApBtL,EAAK8E,MAAM9G,OAAuB,KAAVqM,KAItDkE,aAAa,WACT,IAAIlE,EAAW/J,EAAAC,EAAAC,cAAC8J,EAAA,EAAD,CAASvJ,MAAM,SACzBf,EAAK8E,MAAM8D,SAEpB,OAAO5I,EAAK8E,MAAMwG,MAAOjB,EAAU,QAGnCmE,aAAa,WACT,IAAId,EAAQ1N,EAAK8E,MAAM6H,MAAM3M,EAAK8E,MAAM4H,SACpC3L,EAAQ2M,EAAQ1N,EAAKC,MAAM2N,QAAU,MAAQ,QAC7Ca,EAAoB,QAAT1N,EAAiB,qBAAuB,KACnDsJ,EAAW/J,EAAAC,EAAAC,cAAC8J,EAAA,EAAD,CAASvJ,MAAOA,GAAhB,iBACI2M,EAAMjL,QAAQ,GADlB,IACuBgM,GAEtC,OAAOzO,EAAK8E,MAAMwG,MAAOjB,EAAU,yFA1HnChJ,KAAKoH,SAAWC,YAAYrH,KAAKmM,kBAAmB,oDAIpD7E,cAActH,KAAKoH,UACnBpH,KAAKkM,8CAwHA,IAAA7G,EACsBrF,KAAKyD,MAAjB4H,GADVhG,EACE1I,OADF0I,EACUgG,UAETkB,GADOvM,KAAKyD,MAAMwG,MACRjK,KAAKpB,MAAM2N,QAAUvM,KAAKpB,MAAM2N,QAAQnL,QAAQ,GAAK,GACrE,OACInC,EAAAC,EAAAC,cAAA,OAAKqI,UAAU,iBACVvI,EAAAC,EAAAC,cAAC4D,EAAA,EAAD,CAAMoG,UAAU,SAASxJ,MAAO,CAAEyJ,OAAQ,QAAUC,cAAc,UACrEpK,EAAAC,EAAAC,cAAC4D,EAAA,EAAKE,OAAN,CAAatD,MAAO,CAAE2J,SAAU,IAAKF,OAAO,MAC1CnK,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CAAQ6H,GAAG,KAAK7J,MAAM,QAAQyJ,UAAU,UAAxC,kBACmBoD,GAEnBtN,EAAAC,EAAAC,cAACqK,EAAA,EAAD,CAAMC,KAAK,SASPxK,EAAAC,EAAAC,cAAC2H,EAAD,CAAYtE,OAAK,EACboC,WAAY5E,KAAKpB,MAAMgG,WACvBX,UAAWjE,KAAK2M,oBAXxB,oBAcqB1N,EAAAC,EAAAC,cAACqK,EAAA,EAAKG,MAAN,CACfnH,OAAK,EACLsD,KAAK,SACLC,aAAa,OACbH,YAAY,mBACZgE,SAAU5J,KAAK4I,YACflK,KAAK,WACLmL,KAAK,UACLpJ,MAAO4K,IAIPpM,EAAAC,EAAAC,cAACI,EAAA,EAAO8N,MAAR,CAAc7K,OAAK,GAChBxC,KAAK+M,YACN9N,EAAAC,EAAAC,cAACI,EAAA,EAAO+N,GAAR,MACCtN,KAAKgN,eAKbhN,KAAK+I,iBACL/I,KAAKkN,eACLlN,KAAKmN,yBAtLI9M,aCmFXkN,8MApFXhN,eAAe,WACX,IAAMiN,EAAY,SAACC,EAAQhN,GACvB,OAAQgN,GACJ,IAAK,WACD,OAAOxO,EAAAC,EAAAC,cAACuB,EAAA,EAAMC,KAAP,CAAYE,UAAQ,GAAEJ,GAEjC,IAAK,WACD,OAAOxB,EAAAC,EAAAC,cAACuB,EAAA,EAAMC,KAAP,CAAYC,UAAQ,GAAEH,GAEjC,QACI,OAAOxB,EAAAC,EAAAC,cAACuB,EAAA,EAAMC,KAAP,KAAaF,KAKjC,OAAO9B,EAAKC,MAAMkC,OAAO4M,KAFA,SAACxO,EAAEyO,GAAH,OAASzO,EAAEkM,aAAawC,cAAcD,EAAEvC,gBAElBrK,IAAK,SAAAvC,GAC/C,IAAI8M,EAAQ3M,EAAKC,MAAMsC,YAAY1C,EAAE4M,cAMjCqC,EAAS,GAKjB,OAPQnC,EAHAA,EAGQ3M,EAAKC,MAAMsC,YAAY1C,EAAE4M,cAAcE,MAFvC9M,EAAE8M,OAKH9M,EAAEqP,UAAWJ,EAAO,WACvBnC,EAAQ9M,EAAEqP,YAAWJ,EAAO,YAGjCxO,EAAAC,EAAAC,cAACuB,EAAA,EAAMY,IAAP,CAAWC,IAAKC,KAAKC,MAAMjD,EAAE4M,cAC/BoC,EAAUC,EAAQjP,EAAE4M,cACpBoC,EAAUC,EAAQjP,EAAE6M,UACpBmC,EAAUC,EAAQjP,EAAEqP,WACpBL,EAAUC,EAAQnC,GAClBkC,EAAUC,GAASjP,EAAE6M,SAASC,GAAOlK,QAAQ,UAMtDiL,MAAO,WACH,OAAGlH,OAAOuD,KAAK/J,EAAKC,MAAMsC,aAAajD,OAAS,GACzCU,EAAKC,MAAMkC,OAAO7C,OAAQ,EAItBU,EAAKC,MAAMkC,OAAOgN,OAAO,SAACC,EAAIvP,GACjC,IAAI8M,EAAQ3M,EAAKC,MAAMsC,YAAY1C,EAAE4M,cAMrC,OAAO2C,GAFHzC,EAHAA,EAGQ3M,EAAKC,MAAMsC,YAAY1C,EAAE4M,cAAcE,MAFvC9M,EAAE8M,OAII9M,EAAE6M,UACrB,GAEA,2EAKP,OACIpM,EAAAC,EAAAC,cAAA,OAAKqI,UAAU,eACXvI,EAAAC,EAAAC,cAAA,2BAAmBa,KAAKqM,QAAQjL,QAAQ,IAEtCnC,EAAAC,EAAAC,cAACuB,EAAA,EAAD,KACEzB,EAAAC,EAAAC,cAACuB,EAAA,EAAMgB,OAAP,KACAzC,EAAAC,EAAAC,cAACuB,EAAA,EAAMY,IAAP,KACIrC,EAAAC,EAAAC,cAACuB,EAAA,EAAMiB,WAAP,eACA1C,EAAAC,EAAAC,cAACuB,EAAA,EAAMiB,WAAP,eACA1C,EAAAC,EAAAC,cAACuB,EAAA,EAAMiB,WAAP,gBACA1C,EAAAC,EAAAC,cAACuB,EAAA,EAAMiB,WAAP,mBACA1C,EAAAC,EAAAC,cAACuB,EAAA,EAAMiB,WAAP,mBAIJ1C,EAAAC,EAAAC,cAACuB,EAAA,EAAMkB,KAAP,KACC5B,KAAKO,2BA7EFF,uGCkBlB2N,GAAiBC,wCAA6B,CACnD,CAAEC,KAAM,EAAGxO,MAAOyO,qBAAU,UAAW,KACvC,CAAED,KAAM,GAAKxO,MAAOyO,qBAAU,UAAW,KACzC,CAAED,KAAM,EAAGxO,MAAOyO,qBAAU,UAAW,OAGlCC,oLACI,IAAAC,EAC2CrO,KAAKpB,MAA1CkD,EADNuM,EACMvM,KAAM+H,EADZwE,EACYxE,KAAMyE,EADlBD,EACkBC,MAAOC,EADzBF,EACyBE,MAAO5R,EADhC0R,EACgC1R,OAC5B6R,EAAO,IAAIhN,KAAKM,EAAKA,EAAK7D,OAAQ,GAAGuQ,MACrCC,EAAY,IAAIjN,KAAKM,EAAK,GAAG0M,MAEzC,OACCvP,EAAAC,EAAAC,cAACuP,GAAA,EAAD,CAAaH,MAAOA,EAAOD,MAAOA,EAAOlF,OAAQ,IAChDxB,OAAQ,CAAE+G,KAAM,GAAIC,MAAO,GAAIC,IAAK,GAAIC,OAAQ,IAChDC,WAAYpS,EACZmF,KAAMA,EAAM+H,KAAMA,EAClBmF,UAAW,SAAArI,GAAC,OAAIA,EAAE6H,MAClBS,OAAQC,uBACRC,SAAU,CAACV,EAAWD,IAEtBvP,EAAAC,EAAAC,cAACuP,GAAA,EAAD,CAAOU,GAAI,EAAGC,SAAU,SAAA1I,GAAC,OAAIA,EAAE2I,QAC9BrQ,EAAAC,EAAAC,cAAA,YACCF,EAAAC,EAAAC,cAAA,kBAAgBiQ,GAAG,aAAaG,GAAG,IAAIC,GAAG,OAAOC,GAAG,IAAIC,GAAG,MAC1DzQ,EAAAC,EAAAC,cAAA,QAAMwQ,OAAO,KAAKC,UAAU,UAAUC,YAAa,KACnD5Q,EAAAC,EAAAC,cAAA,QAAMwQ,OAAO,MAAMC,UAAU,UAAUC,YAAa,KACpD5Q,EAAAC,EAAAC,cAAA,QAAMwQ,OAAO,OAAQC,UAAU,UAAUC,YAAa,OAGxD5Q,EAAAC,EAAAC,cAAC2Q,GAAA,MAAD,CAAOC,OAAO,SAASC,OAAO,SAASC,MAAO,IAC9ChR,EAAAC,EAAAC,cAAC2Q,GAAA,MAAD,CAAOC,OAAO,OAAOC,OAAO,SACb/Q,EAAAC,EAAAC,cAAC+Q,GAAA,iBAAD,CACdC,GAAG,SACHH,OAAO,SACPI,cAAeC,sBAAW,cAE3BpR,EAAAC,EAAAC,cAAC+Q,GAAA,iBAAD,CACCC,GAAG,OACHH,OAAO,OACPI,cAAeE,kBAAO,SAEvBrR,EAAAC,EAAAC,cAACoR,GAAA,WAAD,CACCC,UAAW,SAAA7J,GAAC,OAAIA,EAAE2I,OAClBmB,KAAK,mBACLC,YAAa,EACbC,cAAeC,kBACf5C,eAAgBA,MAGN/O,EAAAC,EAAAC,cAAC+Q,GAAA,gBAAD,cA3CQW,IAAMxQ,WAyD9B+N,GAAU0C,aAAe,CACxBjH,KAAM,OAIQuE,OAFfA,GAAY2C,oBAAS3C,IC7CN4C,8MAxBXC,aAAa,SAACC,EAAMzP,GAChB,OAAGyP,EAAKjT,SAAWwD,EAAIxD,QACpBiT,EAAKjT,OAAQ,GAAKwD,EAAIxD,OAAQ,GAC1BiT,EAAK,GAAG5B,QAAU7N,EAAI,GAAG6N,4FAbd6B,GAElB,QAAGA,EAAUxU,SAAWqD,KAAKpB,MAAMjC,SAC5BqD,KAAKiR,aAAaE,EAAUrP,KAAM9B,KAAKpB,MAAMkD,wCAkB1D,GAAI9B,KAAKpB,MAAMkD,KAAK7D,OAAS,GAA0B,IAArB+B,KAAKpB,MAAMjC,OAC5C,OAAOsC,EAAAC,EAAAC,cAAA,YAHG,IAKExC,EAAUqD,KAAKpB,MAAfjC,OACb,OACUsC,EAAAC,EAAAC,cAAA,OAAKqI,UAAU,qBACfvI,EAAAC,EAAAC,cAAA,4BAAoBxC,GAC7BsC,EAAAC,EAAAC,cAACiS,GAAD,CAAYtP,KAAM9B,KAAKpB,MAAMkD,KAAMnF,OAAQA,YAhCjB0D,aCCvBgR,GAAYC,qBAAU,YAErB,SAASC,GAAUzP,GACtB,OAAOA,EAAKf,IAAK,SAAAvC,GAAK,OAAO2G,OAAAqM,EAAA,EAAArM,CAAA,GAAI3G,EAAX,CAAcgQ,KAAO6C,GAAU7S,EAAEgQ,cC0M5CiD,eAtMX,SAAAA,EAAY7S,EAAO8S,GAAS,IAAA/S,EAAA,OAAAwG,OAAAwM,EAAA,EAAAxM,CAAAnF,KAAAyR,IACxB9S,EAAAwG,OAAAyM,EAAA,EAAAzM,CAAAnF,KAAAmF,OAAA0M,EAAA,EAAA1M,CAAAsM,GAAAK,KAAA9R,KAAMpB,EAAO8S,KA0CjBK,eAAe,SAACC,GACZ,GAAGA,EAAUlR,OAAO7C,SAAWU,EAAKC,MAAMkC,OAAO7C,OAC7C,OAAO,EACX,IAAIgU,GAAU,EAKd,OAJAtT,EAAKC,MAAMkC,OAAOoR,QAAQ,SAAC1T,EAAEyH,GACtB+L,EAAUlR,OAAOmF,GAAGoF,WAAa7M,EAAE6M,WAClC4G,GAAQ,KAETA,GAnDiBtT,EAuD5BwT,aAAazM,IAAS,SAAC/I,GAEnBmB,EAASnB,GACR6J,KAAKpK,GACLoK,KAAM,SAAAG,GACH,IAAI7E,EAAOyP,GAAU5K,GAErBhI,EAAKkF,SAAS,CAACuO,UAAUtQ,MAE5B4E,MAAM,SAAAlI,GACHG,EAAKkF,SAAS,CAACuO,UAAU,KACzBlL,QAAQC,IAAI,qBAElB,KApE0BxI,EAuE5B0T,SAAS,WACL1T,EAAK2T,gBAxEmB3T,EA4E5B2T,aAAa,WAETzV,EADc8B,EAAK8E,MAAM3C,OAAOC,IAAI,SAAAvC,GAAC,OAAEA,EAAE4M,gBAEpC5E,KAAKpK,GACLoK,KAAK7H,EAAK4T,mBACV/L,KAAK7H,EAAK6T,mBACV9L,MAAM,kBAAIQ,QAAQC,IAAI,4BAlFHxI,EAqF5B4T,kBAAkB,SAACzQ,GAEf,IAAIkC,EAAQ,GACZrF,EAAK8E,MAAM3C,OAAOoR,QAAQ,SAAA1T,GAEtBwF,EAAOyO,KAAPtN,OAAAqM,EAAA,EAAArM,CAAA,GAAgB3G,EAAhB,CACIqP,UAAU/L,EAAKtD,EAAE4M,cAAcpJ,MAAM0Q,KACrCpH,MAAMxJ,EAAKtD,EAAE4M,cAAcpJ,MAAMd,iBAGzCvC,EAAKkF,SAAS,CAAC/C,OAAOkD,KA/FErF,EAkG5B6T,kBAAkB,YhBvCf,SAAyB1V,GAG5B,OAAOF,MAFKT,EAAW,aAAaW,IgByChC6V,CAFchU,EAAK8E,MAAM3C,OAAOC,IAAI,SAAAvC,GAAC,OAAEA,EAAE4M,gBAGpC5E,KAAKpK,GACLoK,KAAK,SAAA1E,GAAI,OAAEnD,EAAKkF,SAAS,CAAC3C,YAAYY,MACtC4E,MAAMQ,QAAQC,KACnBD,QAAQC,IAAI,oBAzGYxI,EA4G5BiU,SAAS,SAACC,EAAKxH,EAAUC,GACrB,IAAMpO,EAAQoL,aAAa0C,QAAQ,SAEnCjO,EADa,CAAC8V,MAAKxH,WAAUC,QAAOC,OAAO,OAC1B5M,EAAKC,MAAM3B,OAAQC,GACnCsJ,KAAKpK,GACLoK,KAAK7H,EAAKC,MAAMkU,YAChBtM,KAAK,kBAAI7H,EAAKoU,gBAAgBF,EAAKxH,EAAUC,KAC7C5E,MAAM,kBAAIQ,QAAQC,IAAI,+BACvBD,QAAQC,IAAI,aApHYxI,EAuH5BqU,UAAU,SAACH,EAAKxH,EAAUC,GACtBpE,QAAQC,IAAI,aAAc0L,EAAKxH,EAAUC,GACzC,IAAMpO,EAAQoL,aAAa0C,QAAQ,SAEnCjO,EADa,CAAC8V,MAAKxH,WAAUC,QAAOC,OAAO,QAC1B5M,EAAKC,MAAM3B,OAAQC,GACnCsJ,KAAKpK,GACLoK,KAAK7H,EAAKC,MAAMkU,YAChBtM,KAAK,kBAAI7H,EAAKoU,gBAAgBF,EAAKxH,EAAUC,KAC7C5E,MAAM,kBAAIQ,QAAQC,IAAI,gCA/HCxI,EAmI5BoU,gBAAgB,SAACF,EAAKxH,EAAUC,GAC5B3M,EAAKkO,YAAYgG,EAAKxH,EAAUC,GAChC3M,EAAKmO,aAAa+F,EAAKxH,IArIC1M,EAwI5BkO,YAAY,SAAClQ,EAAOsW,EAAG3H,GAChB2H,EAAI,GAAKA,EAAE3H,EAAQ3M,EAAKC,MAAM2N,SAAqB,KAAV5P,EACxCgC,EAAKkF,SAAS,CAACyI,UAAS,EAAM3P,WAE9BgC,EAAKkF,SAAS,CAACyI,UAAS,EAAO3P,YA5IXgC,EAgJ5BmO,aAAa,SAACnQ,EAAQsW,GAClB,IAAIhJ,GAAQ,EACZtL,EAAK8E,MAAM3C,OAAOoR,QAAS,SAAA1T,GAEpBA,EAAE4M,eAAiBzO,GAAU6B,EAAE6M,UAAY4H,GAAKA,EAAG,IAElDhJ,GAAQ,KAIhBtL,EAAKkF,SAAS,CAACoJ,UAAUhD,EAAOtN,YAxJhCgC,EAAK8E,MAAM,CACP3C,OAAO,GACPI,YAAY,GACZkR,UAAU,GACVnF,WAAU,EACVX,UAAS,EACT3P,OAAO,MARagC,mFAaxBqB,KAAK6D,SAAS,CAAC/C,OAAOd,KAAKpB,MAAMkC,QAASd,KAAKqS,UAE/CrS,KAAKoH,SAAWC,YAAYrH,KAAKwS,kBAAmB,oDAKpDlL,cAActH,KAAKoH,UACnBpH,KAAK6D,SAAS,CACV/C,OAAO,GACPI,YAAY,GACZ+L,WAAU,EACVX,UAAS,+CAKE0F,EAAWkB,GACvBlT,KAAK+R,eAAeC,IACnBhS,KAAK6D,SAAS,CAAE/C,OAAOqE,OAAAC,EAAA,EAAAD,CAAInF,KAAKpB,MAAMkC,SAAUd,KAAKqS,UAEtDa,EAAUvW,SAAWqD,KAAKyD,MAAM9G,SACP,KAArBqD,KAAKyD,MAAM9G,QACVuK,QAAQC,IAAInH,KAAKyD,MAAM9G,QACvBqD,KAAKmS,aAAanS,KAAKyD,MAAM9G,SAE7BqD,KAAK6D,SAAS,CAACuO,UAAU,uCAyHjC,OACInT,EAAAC,EAAAC,cAAA,OAAKqI,UAAU,uBACXvI,EAAAC,EAAAC,cAAC4D,EAAA,EAAD,CAAMC,QAAS,EAAGyE,SAAO,GACrBxI,EAAAC,EAAAC,cAAC4D,EAAA,EAAKE,OAAN,KACAhE,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAASyH,OAAK,GACVzI,EAAAC,EAAAC,cAACgU,GAAD,CACIrS,OAAQd,KAAKyD,MAAM3C,OACnBI,YAAalB,KAAKyD,MAAMvC,gBAKhCjC,EAAAC,EAAAC,cAACiU,EAAA,EAAD,CAASC,UAAQ,GAAjB,KACApU,EAAAC,EAAAC,cAAC4D,EAAA,EAAKE,OAAN,KACAhE,EAAAC,EAAAC,cAACc,EAAA,EAAD,CAASyH,OAAK,GACVzI,EAAAC,EAAAC,cAACmU,EAAD,CACI9G,UAAWxM,KAAK4S,SAChBlG,WAAY1M,KAAKgT,UACjBzG,QAASvM,KAAKpB,MAAM2N,QACpBgH,SAAY,KACZjH,SAAYtM,KAAKyD,MAAM6I,SACvBO,YAAa7M,KAAK6M,YAClBI,UAAajN,KAAKyD,MAAMwJ,UACxBH,aAAgB9M,KAAK8M,aACrBlI,WAAY5E,KAAKpB,MAAMgG,cAI/B3F,EAAAC,EAAAC,cAACqU,GAAD,CAAgB7W,OAAQqD,KAAKyD,MAAM9G,OAAQmF,KAAM9B,KAAKyD,MAAM2O,sBA7LxD/R,yCCuBlBoT,GAAgB,CACrBC,OAAQvO,OAAOwO,OAAO,GACrBC,oBAAiB9C,aAAa4C,SAG1BG,oLAEJ,IADQxF,EAE0CrO,KAAKpB,MAA/CiL,EAFAwE,EAEAxE,KAAYiK,EAFZzF,EAEMvM,KAAmBwM,EAFzBD,EAEyBC,MAAOC,EAFhCF,EAEgCE,MAClC3G,EAAS,CAAE+G,KAAM,GAAIC,MAAO,GAAIC,IAAK,GAAIC,OAAQ,IAMjDiF,EAAmB,CAAEC,eAAgB,GAHzB1F,EAAQ1G,EAAO+G,KAAO/G,EAAOgH,OAGWqF,kBAAmB,IACvEC,EAAmB,CAAEF,eAAgB,GAT5B,IAIapM,EAAOiH,IAAMjH,EAAOkH,QAKWmF,kBAAmB,IAExEE,EAAQC,iBACZhF,GAAG,GACHiF,QAAQ,CAAEC,WAAY,KACtBC,MAAM,SAAC5N,EAAG6N,GAAO7N,EAAEwN,MAAQK,IAC3BC,SAAS,SAAA9N,GAAC,OAAIA,EAAEwN,QAEZO,EAAQN,iBACZhF,GAAG,GACHiF,QAAQ,CAAEC,WAAY,KACtBC,MAAM,SAAC5N,EAAG6N,GAAO7N,EAAE+N,MAAQF,IAC3BC,SAAS,SAAA9N,GAAC,OAAIA,EAAE+N,QAEZC,EAAUC,kCACdP,QAAQ,CAAEC,WAAY,GAAIO,YAAa,IACvCN,MAAM,SAAC5N,EAAG6N,GAAO7N,EAAEgO,QAAUH,IAC7BC,SAAS,SAAA9N,GAAC,OAAIA,EAAEgO,UACZG,EAAUF,kCACdP,QAAQ,CAAEC,WAAY,GAAIO,YAAa,IACvCN,MAAM,SAAC5N,EAAG6N,GAAO7N,EAAEmO,QAAUN,IAC7BC,SAAS,SAAA9N,GAAC,OAAIA,EAAEmO,UACZC,EAAUH,kCACdP,QAAQ,CAAEC,WAAY,GAAIO,YAAa,EAAGG,YAAa,IACvDT,MAAM,SAAC5N,EAAG6N,GAAO7N,EAAEoO,QAAUP,IAC7BC,SAAS,SAAA9N,GAAC,OAAIA,EAAEoO,UAEZE,EAAiBd,EAAMO,EAAMC,EAAQG,EAAQC,EAAQjB,OArCnDoB,EAsCeC,kCACrBC,kBAAkB,SAAAzO,GAAC,OAAIA,EAAE6H,MAMvB6G,CAAeJ,GAJlBnT,EAzCOoT,EAyCPpT,KACAmN,EA1COiG,EA0CPjG,OACAD,EA3COkG,EA2CPlG,UACAsG,EA5COJ,EA4CPI,iBAKKnG,EAAW,CAFHH,EAAUuG,gBAAKzT,IACjBkN,EAAUlN,EAAK0T,KAAKC,IAAI,EAAG3T,EAAK7D,OAAS,QAErD,OACCgB,EAAAC,EAAAC,cAACuP,GAAA,EAAD,CAAatF,OAAQ,IACpBkF,MAAOA,EACPC,MAAOA,EACP3G,OAAQA,EACRiC,KAAMA,EACNkF,WAAW,OACXjN,KAAMA,EACNmN,OAAQA,EACRD,UAAWA,EACXsG,iBAAkBA,EAClBnG,SAAUA,GAEVlQ,EAAAC,EAAAC,cAACuP,GAAA,EAAD,CAAOU,GAAI,EAAGhG,OAAQ,IACrBiG,SAAU,SAAA1I,GAAC,MAAI,CAACA,EAAExE,KAAMwE,EAAEvE,MAC1BsT,QAAS,CAAE7G,IAAK,GAAIC,OAAQ,KAE5B7P,EAAAC,EAAAC,cAAC2Q,GAAA,MAAD3K,OAAAwO,OAAA,CAAO5D,OAAO,QAAQC,OAAO,QAAQC,MAAO,GAAO8D,IACnD9U,EAAAC,EAAAC,cAAC2Q,GAAA,MAAD,CAAOC,OAAO,SAASC,OAAO,SAAS2F,WAAW,EAAOC,cAAe,IAExE3W,EAAAC,EAAAC,cAAC+Q,GAAA,iBAAD,CACCC,GAAG,QACHH,OAAO,QACPI,cAAeE,kBAAO,SAEvBrR,EAAAC,EAAAC,cAACoR,GAAA,kBAAD,MAEAtR,EAAAC,EAAAC,cAACoR,GAAA,WAAD,CAAYC,UAAW2D,EAAMM,WAAYf,OAAQS,EAAMT,WACvDzU,EAAAC,EAAAC,cAACoR,GAAA,WAAD,CAAYC,UAAWkE,EAAMD,WAAYf,OAAQgB,EAAMhB,WAEvDzU,EAAAC,EAAAC,cAAC+Q,GAAA,kBAAD,CAAmBM,UAAW2D,EAAMM,WAAYhE,KAAM0D,EAAMT,WAC5DzU,EAAAC,EAAAC,cAAC+Q,GAAA,kBAAD,CAAmBM,UAAWkE,EAAMD,WAAYhE,KAAMiE,EAAMhB,WAE5DzU,EAAAC,EAAAC,cAAC+Q,GAAA,cAAD,CAAe2F,SAAS,OAAO7F,OAAO,QAAQ8F,OAAO,QACpDtF,UAAW,SAAA7J,GAAC,OAAIA,EAAE2I,OAAOmB,KAAM,SAAA9J,GAAC,OAAIA,EAAE2I,MAAQ3I,EAAE+L,KAAO,UAAY,aAEpEzT,EAAAC,EAAAC,cAACoR,GAAA,aAAD,CAAc1G,KAAK,WAAWkM,OAAQ,MAvBvC,IAwBC9W,EAAAC,EAAAC,cAACoR,GAAA,aAAD,CAAc1G,KAAK,WAAWkM,OAAQ,IAAKC,gBAAgB,QAxB5D,IAyBC/W,EAAAC,EAAAC,cAACoR,GAAA,aAAD,CAAc1G,KAAK,WAAWkM,OAAQ,IAAKC,gBAAgB,aAzB5D,IA2BC/W,EAAAC,EAAAC,cAAC8W,GAAA,YAAD,CAAaC,OAAQ,EAAE,IAAK,MAC5BjX,EAAAC,EAAAC,cAAC8W,GAAA,qBAAD,CACCxW,QAAS,SAAAjB,GAAC,OAAI0I,QAAQC,IAAI3I,IAC1B0X,OAAQ,EAAE,GAAI,GACd7B,QAAS,CACR,CACC7D,UAAW2D,EAAMM,WACjB5K,KAAMsK,EAAMtK,OACZ6J,OAAQS,EAAMT,SACdY,WAAYH,EAAME,UAAUC,YAE7B,CACC9D,UAAWkE,EAAMD,WACjB5K,KAAM6K,EAAM7K,OACZ6J,OAAQgB,EAAMhB,SACdY,WAAYI,EAAML,UAAUC,gBAKhCrV,EAAAC,EAAAC,cAACuP,GAAA,EAAD,CAAOU,GAAI,EACVC,SAAU,SAAA1I,GAAC,OAAIA,EAAEwP,QACjB/M,OAAQ,IAAK8M,OAAQ,SAACE,EAAGC,GAAJ,MAAU,CAAC,EAAGA,EAAI,OAEvCpX,EAAAC,EAAAC,cAAC2Q,GAAA,MAAD,CAAOC,OAAO,OAAOC,OAAO,OAAOC,MAAO,EAAGqG,WAAYhG,kBAAO,SAEhErR,EAAAC,EAAAC,cAAC+Q,GAAA,iBAAD,CACCC,GAAG,OACHH,OAAO,OACPI,cAAeE,kBAAO,SAEvBrR,EAAAC,EAAAC,cAACoR,GAAA,UAAD,CAAWC,UAAW,SAAA7J,GAAC,OAAIA,EAAEwP,QAAQ1F,KAAM,SAAA9J,GAAC,OAAIA,EAAE2I,MAAQ3I,EAAE+L,KAAO,UAAY,cAEhFzT,EAAAC,EAAAC,cAACuP,GAAA,EAAD,CAAOU,GAAI,EACVC,SAAU,CAAC,EAAG,KACdjG,OAAQ,IAAK8M,OAAQ,SAACE,EAAGC,GAAJ,MAAU,CAAC,EAAGA,EAAI,MAAMX,QAAS,CAAE7G,IAAK,GAAIC,OAAQ,KAEzE7P,EAAAC,EAAAC,cAAC2Q,GAAA,MAAD,CAAOC,OAAO,SAASC,OAAO,SAAS2F,WAAW,EAAOC,cAAe,IACxE3W,EAAAC,EAAAC,cAAC2Q,GAAA,MAAD,CAAOC,OAAO,QAAQC,OAAO,QAC5BuG,WAAY,CAAC,GAAI,GAAI,MACtBtX,EAAAC,EAAAC,cAAC+Q,GAAA,iBAAD,CACCC,GAAG,QACHH,OAAO,QACPI,cAAeE,kBAAO,SAEvBrR,EAAAC,EAAAC,cAACoR,GAAA,iBAADpL,OAAAwO,OAAA,CACCnD,UAAW,SAAA7J,GAAC,OAAIA,EAAEmO,UACdrB,KACLxU,EAAAC,EAAAC,cAAC8W,GAAA,kBAAD,CACCC,OAAQ,EAAE,GAAI,IACd1F,UAAW,SAAA7J,GAAC,OAAIA,EAAEgO,SAClBN,QAASM,EAAQN,UACjBmC,WAAY/C,GACZgD,MAAM,cAGRxX,EAAAC,EAAAC,cAACuP,GAAA,EAAD,CAAOU,GAAI,EACVC,SAAU,CAAC,EAAG,KACdjG,OAAQ,IAAK8M,OAAQ,SAACE,EAAGC,GAAJ,MAAU,CAAC,EAAGA,EAAI,MAAMX,QAAS,CAAE7G,IAAK,GAAIC,OAAQ,KAEzE7P,EAAAC,EAAAC,cAAC2Q,GAAA,MAAD,CAAOC,OAAO,SAASC,OAAO,SAAS2F,WAAW,EAAOC,cAAe,IACxE3W,EAAAC,EAAAC,cAAC2Q,GAAA,MAAD,CAAOC,OAAO,QAAQC,OAAO,QAC5BuG,WAAY,CAAC,GAAI,GAAI,MAEtBtX,EAAAC,EAAAC,cAAC+Q,GAAA,iBAAD,CACCC,GAAG,QACHH,OAAO,QACPI,cAAeE,kBAAO,SAEvBrR,EAAAC,EAAAC,cAACoR,GAAA,iBAADpL,OAAAwO,OAAA,CACCnD,UAAW,SAAA7J,GAAC,OAAIA,EAAEgO,UACdlB,KAELxU,EAAAC,EAAAC,cAAC8W,GAAA,kBAAD,CACCC,OAAQ,EAAE,GAAI,IACd1F,UAAW,SAAA7J,GAAC,OAAIA,EAAEmO,SAClBT,QAASS,EAAQT,UACjBmC,WAAY/C,GACZgD,MAAM,cAERxX,EAAAC,EAAAC,cAACuP,GAAA,EAAD,CAAOU,GAAI,EACVC,SAAU,CAAC,EAAG,KACdjG,OAAQ,IAAK8M,OAAQ,SAACE,EAAGC,GAAJ,MAAU,CAAC,EAAGA,EAAI,MAAMX,QAAS,CAAE7G,IAAK,GAAIC,OAAQ,KAEzE7P,EAAAC,EAAAC,cAAC2Q,GAAA,MAAD3K,OAAAwO,OAAA,CAAO5D,OAAO,SAASC,OAAO,UAAakE,IAC3CjV,EAAAC,EAAAC,cAAC2Q,GAAA,MAAD,CAAOC,OAAO,QAAQC,OAAO,QAC5BuG,WAAY,CAAC,GAAI,GAAI,MAEtBtX,EAAAC,EAAAC,cAAC+Q,GAAA,iBAAD,CACCC,GAAG,SACHH,OAAO,SACPI,cAAeC,sBAAW,cAC3BpR,EAAAC,EAAAC,cAAC+Q,GAAA,iBAAD,CACCC,GAAG,QACHH,OAAO,QACPI,cAAeE,kBAAO,SACvBrR,EAAAC,EAAAC,cAACoR,GAAA,iBAADpL,OAAAwO,OAAA,CACCnD,UAAW,SAAA7J,GAAC,OAAIA,EAAEoO,UACdtB,KAELxU,EAAAC,EAAAC,cAAC8W,GAAA,kBAAD,CACCC,OAAQ,EAAE,GAAI,IACd1F,UAAW,SAAA7J,GAAC,OAAIA,EAAEoO,SAClBV,QAASU,EAAQV,UACjBmC,WAAY/C,GACZgD,MAAM,cAERxX,EAAAC,EAAAC,cAAC+Q,GAAA,gBAAD,cAtMuDW,IAAMxQ,WAkNjEwT,GAA6C/C,aAAe,CAC3DjH,KAAM,OAKQgK,OAFfA,GAA+C9C,oBAAS8C,IC9NzC6C,8MAtBXC,YAAY,SAACrQ,EAAD7H,GAAiB,IAARC,EAAQD,EAARC,KAEjBC,EAAKC,MAAMgY,YAAYlY,MAG3BmY,eAAgB,WACZ,OAAOhZ,EAAWkD,IAAI,SAAAvC,GAClB,OAAOS,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAQgC,IAAKuV,eAAMrX,QAASd,EAAKgY,YAAajY,KAAMF,GAAIA,EAAE4F,0FAKrE,OACInF,EAAAC,EAAAC,cAAA,WACMF,EAAAC,EAAAC,cAACI,EAAA,EAAO8N,MAAR,KACGrN,KAAK6W,0BAjBAxW,aCyDX0W,8MAtDXtT,MAAM,CACF2O,UAAW,GACXrU,MAAM,KACNpB,OAAO,UAOXia,YAAY,SAAC7Y,GACTmJ,QAAQC,IAAI,QAASpJ,GACrBY,EAAKkF,SAAS,CAAC9F,SAAQ,kBAAIY,EAAKwT,aAAaxT,EAAK8E,MAAM9G,OAAQoB,QAGpEkG,UAAU,SAACtH,GACPgC,EAAKkF,SAAS,CAAClH,UAAS,kBAAIgC,EAAKwT,aAAaxT,EAAK8E,MAAM9G,aAG7DwV,aAAczM,IAAS,SAAC/I,GAEpBmB,EAASnB,EAFgCqB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,MAGjCwI,KAAKpK,GACLoK,KAAM,SAAAG,GACH,IAAI7E,EAAOyP,GAAU5K,GAErBhI,EAAKkF,SAAS,CAACuO,UAAUtQ,MAE5B4E,MAAM,SAAAlI,GACHG,EAAKkF,SAAS,CAACuO,UAAU,KACzBlL,QAAQC,IAAI,qBAEjB,wFAzBCnH,KAAKmS,aAAanS,KAAKyD,MAAM9G,yCA8B7B,OACIsC,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC2H,EAAD,CAAe7C,UAAWjE,KAAKiE,UAC3BW,WAAc5E,KAAKpB,MAAMgG,aAE5B5E,KAAKyD,MAAM2O,UAAUnU,OAAS,EAC/BgB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC6X,GAAD,CAAaJ,YAAa5W,KAAK4W,cAC/B3X,EAAAC,EAAAC,cAAC8X,GAAD,CAAWnV,KAAM9B,KAAKyD,MAAM2O,aAE1B,aAhDe/R,aCgKlB6W,8MA9JXzT,MAAQ,CACJ1E,WAAY,OACZ9B,OAAO,KACPka,UAAU,KACVrX,SAAS,KACTgB,OAAO,GACPyL,QAAQ,KACR3H,WAAW,MAYdsH,WAAW,WACRvN,EAAKkF,SAAS,CACV9E,WAAY,OACZ9B,OAAO,KACPka,UAAU,KACVrX,SAAS,KACTgB,OAAO,GACPyL,QAAQ,UAIf6K,cAAc,WpBiFRxa,MADK,mDoB9EH4J,KAAKpK,GACLoK,KAAK,SAAA1E,GAAI,OAAGnD,EAAKkF,SAAS,CAACe,WAAY9C,EAAKf,IAAIpC,EAAK0Y,kBACrD3Q,MAAM,kBAAKQ,QAAQC,IAAI,+BAG/BkQ,aAAa,SAACvV,GACV,MAAO,CACHuB,MAAMvB,EAAKnF,OACX+B,KAAKoD,EAAKpD,SAIlBoU,WAAW,SAAChR,GACRoF,QAAQC,IAAI,uBACZ,IAAMmQ,EAAS,CAAClI,GAAGzQ,EAAK8E,MAAMxG,OAAQ+K,MAAMrJ,EAAK8E,MAAM0T,WACvDxY,EAAK4Y,gBAAgBzV,EAAMwV,MAQ/BE,WAAW,WACR,IAAIta,EAAQoL,aAAa0C,QAAQ,SAC9B9N,EACCyB,EAAK8Y,WAAWva,GAEhByB,EAAKuN,gBAIZqL,gBAAgB,SAACzV,EAAMwV,GACpB3Y,EAAKkF,SAAS,CACV5G,OAAOqa,EAASlI,GAChB+H,UAAUG,EAAStP,MACnBlI,SAASgC,EAAKsG,KAAKsP,OAAO,GAAGtT,cAAgBtC,EAAKsG,KAAKtD,MAAM,GAC7DhE,OAAOgB,EAAKhB,OACZyL,QAAQzK,EAAKyK,SAEf,kBAAKrF,QAAQC,WAGlBsQ,WAAW,SAACva,GACR,IAAIoa,EAAW3Z,KAAKga,MAAMC,KAAK1a,EAAM2a,MAAM,KAAK,MpB1ClD,SAAuB3a,EAAOD,GAUjC,OAAOL,MATKT,EAAW,UAAUc,EACtB,CACHI,OAAQ,MACRC,QAAS,CACLC,cAAiBL,EACjBM,eAAgB,mBAChBC,YAAa,uBoBqCpBqa,CAAc5a,EAAOoa,EAASlI,IAC1B5I,KAAKpK,GACLoK,KAAK,SAACG,GAAD,OAAMhI,EAAK4Y,gBAAgB5Q,EAAG2Q,KACnC5Q,MAAM,SAAAC,GAAC,OAAEO,QAAQC,IAAI,wCACzBD,QAAQC,SAGb4Q,eAAe,WACXpZ,EAAKkF,SAAS,CAAC9E,WAAW,QAAS,kBAAIJ,EAAK6Y,kBAGhDzX,aAAa,WACTuI,aAAa0P,WAAW,SACxBrZ,EAAK6Y,gBAIT3Y,WAAW,SAACH,GAAD,OAAUC,EAAKkF,SAAS,CAAE9E,WAAYL,OAGjDuZ,eAAe,WAEX,OAAQtZ,EAAK8E,MAAM1E,YACf,IAAK,OACD,OAAOE,EAAAC,EAAAC,cAAE+Y,EAAF,CACHjb,OAAQ0B,EAAK8E,MAAMxG,OACnB6C,SAAUnB,EAAK8E,MAAM3D,SACrB8E,WAAYjG,EAAK8E,MAAMmB,aAG/B,IAAK,YACD,OAAIjG,EAAK8E,MAAMxG,OACRgC,EAAAC,EAAAC,cAAEgZ,GAAF,CACK5L,QAAS5N,EAAK8E,MAAM8I,QACpBtP,OAAQ0B,EAAK8E,MAAMxG,OACnB6D,OAAQnC,EAAK8E,MAAM3C,OACnB8D,WAAYjG,EAAK8E,MAAMmB,WACvBkO,WAAYnU,EAAKmU,aANC7T,EAAAC,EAAAC,cAAE+Y,EAAF,MAOlC,IAAK,SACD,OAAIvZ,EAAK8E,MAAMxG,OACRgC,EAAAC,EAAAC,cAACiZ,GAAD,CACHxT,WAAYjG,EAAK8E,MAAMmB,aAFG3F,EAAAC,EAAAC,cAAE+Y,EAAF,MAIlC,IAAK,SACD,OAAIvZ,EAAK8E,MAAMxG,OAERgC,EAAAC,EAAAC,cAAEkZ,EAAF,CAASpb,OAAQ0B,EAAK8E,MAAMxG,SAFLgC,EAAAC,EAAAC,cAAE+Y,EAAF,MAKlC,IAAK,QACD,OAAOjZ,EAAAC,EAAAC,cAAEmZ,EAAF,CAAQ9P,WAAY7J,EAAKoZ,iBAEpC,IAAK,SACD,OAAO9Y,EAAAC,EAAAC,cAAEoZ,EAAF,CAAS/P,WAAY7J,EAAKoZ,iBAErC,QACI,OAAO9Y,EAAAC,EAAAC,cAAE+Y,EAAF,2FA3HflY,KAAKwX,aACLxX,KAAKoX,+DAILpX,KAAKkM,8CA8HL,OACIjN,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACqZ,EAAD,CACI3Z,WAAYmB,KAAKnB,WACjBE,WAAYiB,KAAKyD,MAAM1E,WACvBe,SAAUE,KAAKyD,MAAM3D,SACrBC,aAAcC,KAAKD,eAItBC,KAAKiY,yBAzJE5X,aCOToY,oLAVX,IAAMrP,EAASsP,OAAOC,YACtB,OACE1Z,EAAAC,EAAAC,cAAA,OAAKqI,UAAU,MAAM7H,MAAO,CAACyJ,WAE3BnK,EAAAC,EAAAC,cAACyZ,GAAD,cANUvY,aCOEwY,QACW,cAA7BH,OAAOI,SAASC,UAEe,UAA7BL,OAAOI,SAASC,UAEhBL,OAAOI,SAASC,SAASC,MACvB,2DCXNC,IAASC,OAAOja,EAAAC,EAAAC,cAACga,GAAD,MAASC,SAASC,eAAe,SD0H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMhT,KAAK,SAAAiT,GACjCA,EAAaC","file":"static/js/main.0b6619de.chunk.js","sourcesContent":["// const backendUrl=\"http://localhost:4000/\"\nconst backendUrl=\"https://ttp-fs-20180728-backend.herokuapp.com/\"\n\n\n// https://ttp-fs-20180728-backend.herokuapp.com\n\n//batch quotes\n//http://localhost:4000/api/batch/intc,fb\n//batch prices\n\nexport function handleErrors(response) {\n    // console.log(response)\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n    return response.json();\n}\n\n\nexport function postUser(user){\n    const url = backendUrl+\"users\";\n    let config={\n        method: 'POST', \n        headers: {\n            'Content-Type': 'application/JSON',\n            'Data-Type': 'application/JSON'\n        },\n        body: JSON.stringify(user)\n    };\n    return fetch(url,config).then(r => r.json())\n}\n\nexport function postSessions(user){\n    const url = backendUrl+\"sessions\";\n    let config={\n        method: 'POST', \n        headers: {\n            'Content-Type': 'application/JSON',\n            'Data-Type': 'application/JSON'\n        },\n        body: JSON.stringify(user)\n    };\n    return fetch(url,config)\n}\n\nexport function fetchUserInfo(token, userID){\n    const url = backendUrl+\"/users/\"+userID\n    let config={\n            method: 'GET', \n            headers: {\n                'Authorization': token,\n                'Content-Type': 'application/JSON',\n                'Data-Type': 'application/JSON'\n            },\n        };\n    return fetch(url, config)\n}\n\nexport function fetchUserHistory(token, userID, page){\n    const url = backendUrl+\"/trades/\"+userID +\"?page=\" +page\n    let config={\n            method: 'GET', \n            headers: {\n                'Authorization': token,\n                'Content-Type': 'application/JSON',\n                'Data-Type': 'application/JSON',\n            },\n        };\n    return fetch(url, config)\n}\n\nexport function fetchStockPrice(symbols){\n    const url = backendUrl+\"api/price/\"+symbols\n        \n    return fetch(url)\n}\n\nexport function fetchStockQuote(symbol){\n    const url = backendUrl+\"api/stock/\"+symbol       \n    return fetch(url)\n}\n\nexport function fetchBatchQuote(symbols){\n    const url = backendUrl+\"api/batch/\"+symbols      \n    return fetch(url)\n}\n\nexport function sendTrade(trade, userID, token){\n    const url = backendUrl+\"/trades/\"+userID\n    let config={\n            method: 'POST', \n            headers: {\n                'Authorization': token,\n                'Content-Type': 'application/JSON',\n                'Data-Type': 'application/JSON'\n            },\n            body: JSON.stringify({trade})\n        };\n\n    return fetch(url, config)\n}\n\nexport function getStock6m(symbol){\n    const url= `https://api.iextrading.com/1.0/stock/${symbol}/chart/6m`;\n    return fetch(url);\n}\n\nexport const chartRange = [\"1m\",\"3m\", \"6m\",\"ytd\",\"1y\",\"2y\"];\nexport function getChart(symbol, range=\"6m\"){\n    if(chartRange.indexOf(range.toLowerCase()) == -1) range = \"6m\"\n    const url= `https://api.iextrading.com/1.0/stock/${symbol}/chart/${range}`;\n    return fetch(url);\n}\n\n\nexport function getFocus(){\n    const url ='https://api.iextrading.com/1.0/stock/market/list/infocus';\n    return fetch(url);\n}   \n\nexport function getSymbols(){\n    const url = 'https://api.iextrading.com/1.0/ref-data/symbols'\n    return fetch(url);\n}","import React, { Component } from 'react';\nimport { Menu, Segment, Button } from 'semantic-ui-react'\n\nclass Navbar extends Component {\n    \n\n    handleItemClick = (e, { name }) => this.props.handleMenu(name)\n\n    displayButtons=()=>{\n        const { activeItem } = this.props;\n        let login =  <Menu.Item position='right'>\n                <Button  \n            name='signup' \n            active={activeItem === 'signup'}\n            onClick={this.handleItemClick}\n            color='green'>\n            Signup\n            </Button>\n            <Button  \n                name='login' \n                active={activeItem === 'login'}\n                onClick={this.handleItemClick}\n                style={{ marginLeft: '0.5em' }} \n                color='green'>\n                Login\n            </Button>\n        </Menu.Item>\n\n        let logout= <Menu.Item position='right'>\n            Welcome, {this.props.userName}\n            <Button  \n                name='logout' \n                onClick={this.props.handleLogout}\n                style={{ marginLeft: '2em' }} \n                color='green'>\n                Logout\n            </Button>\n        \n        </Menu.Item>\n\n\n        if(this.props.userName){\n            return logout\n        }else{\n            return login\n        }\n    }\n\n\n    render() {\n        const { activeItem } = this.props\n        return (\n            <div>\n            <Segment inverted>\n                <Menu inverted pointing secondary>\n                <Menu.Item name='home' active={activeItem === 'home'} onClick={this.handleItemClick} />\n                <Menu.Item\n                    name='portfolio'\n                    active={activeItem === 'portfolio'}\n                    onClick={this.handleItemClick}\n                />\n                <Menu.Item\n                    name='charts'\n                    active={activeItem === 'charts'}\n                    onClick={this.handleItemClick}\n                />\n                <Menu.Item\n                    name='trades'\n                    active={activeItem === 'trades'}\n                    onClick={this.handleItemClick}\n                />\n                {/* <Menu.Item\n                    position='right'\n                    name='signup'\n                    active={activeItem === 'signup'}\n                    onClick={this.handleItemClick}\n                /> */}\n\n                {this.displayButtons()}\n                </Menu>\n\n            </Segment>\n\n        \n        </div>\n        );\n    }\n}\n\nexport default Navbar;","import React, { Component } from 'react';\nimport { Table } from 'semantic-ui-react'\n\n\nclass FocusList extends Component {\n    generateTables=()=>{\n        const colorCell = (color, value)=>{\n            if(color ===\"negative\") return <Table.Cell negative>{value}</Table.Cell>\n            if(color ===\"positive\") return <Table.Cell positive>{value}</Table.Cell>\n            return <Table.Cell >{value}</Table.Cell>\n        }\n\n\n       return  this.props.stocks.map(e=>{\n            // console.log(e)\n            const {symbol, change, changePercent, latestPrice} = e;\n            let percent = (changePercent*100).toFixed(2).toString()+\"%\"\n            let color = change<0 ? \"negative\":\"positive\";\n            if(change === 0) color=\"none\";\n            return <Table.Row key={Date.now()+symbol}>\n            {colorCell(color, symbol)}\n            {colorCell(color, change)}\n            {colorCell(color, percent)}\n            {colorCell(color, latestPrice)}\n        </Table.Row>\n        })\n\n    }\n    render() {\n        return (\n            <div>\n                <h3>Trending Stocks</h3>\n                <Table >\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell>Symbol</Table.HeaderCell>\n                        <Table.HeaderCell>Changed($)</Table.HeaderCell>\n                        <Table.HeaderCell>Percent</Table.HeaderCell>\n                        <Table.HeaderCell>Price($)</Table.HeaderCell>\n                    </Table.Row>\n                    </Table.Header>\n                    <Table.Body>\n                    {this.props.stocks.length > 0? this.generateTables():null}\n                    </Table.Body>\n                </Table>\n                \n            </div>\n        );\n    }\n}\n\nexport default FocusList;","import React, { Component } from 'react';\nimport { Card, Icon } from 'semantic-ui-react'\n\nclass StockCard extends Component {\n    render() {\n        // console.log(this.props.data)\n        if(this.props.data){\n            const {companyName, latestPrice, symbol, change, avgTotalVolume,high,low} = this.props.data.quote;\n            let arrow = change <0? \"arrow down\": \"arrow up\";\n            let color = change <0? \"red\": \"green\";\n            if(change === 0) {\n                color=\"black\";\n                arrow = \"\";\n            }\n            const fontColor = {color}\n            return (\n                <Card color={color} fluid>\n                <Card.Content>\n                <Card.Header style={fontColor}>\n                \n                ${latestPrice}-{symbol}-${change}\n                    <Icon name={arrow} />\n                </Card.Header>\n                <Card.Meta>\n                    <span >High:{high} Low:{low}</span>\n                </Card.Meta>\n                <Card.Description>{companyName}</Card.Description>\n                </Card.Content>\n                <Card.Content extra>\n                    Volumn: {avgTotalVolume}\n                </Card.Content>\n            </Card>\n            );\n        }else{\n            return (\n                <div></div>\n            )\n        }\n    }\n}\n\nexport default StockCard;\n","import React, { Component } from 'react';\nimport Card from './Card';\nimport { Grid } from 'semantic-ui-react'\n\nclass CardContainer extends Component {\n    \n    render() {\n        // console.log(this.props.etfs)\n\n        return (\n            <div>\n                \n\n                <h3>Major ETFs</h3>\n                <Grid columns={2}>\n                    <Grid.Row>\n                    <Grid.Column >\n                    <Card data ={this.props.etfs[\"IWM\"]} />\n                    </Grid.Column>\n\n                    <Grid.Column>\n                    <Card data ={this.props.etfs[\"DIA\"]}/>\n                    </Grid.Column>\n                    </Grid.Row>\n\n                    <Grid.Row>\n                    <Grid.Column>\n                    <Card data={this.props.etfs[\"SPY\"]}/>\n                    </Grid.Column>\n                    <Grid.Column>\n                    <Card data={this.props.etfs[\"QQQ\"]}/>\n                    </Grid.Column>\n                    </Grid.Row>\n                </Grid>\n\n                \n                \n            </div>\n        );\n    }\n}\n\nexport default CardContainer;","import _ from 'lodash'\nimport React, { Component } from 'react'\nimport { Search, Grid} from 'semantic-ui-react'\nimport PropTypes from 'prop-types'\nimport { Label } from 'semantic-ui-react'\nimport { v4 } from 'uuid';\n\n\n\nconst resultRenderer = ({ title, name }) => <Label content={`${title+\":\"+name}`} />\n\nresultRenderer.propTypes = {\n  title: PropTypes.string,\n  name: PropTypes.string,\n}\n\nexport default class SearchExampleStandard extends Component {\n    state={\n        isLoading: false, \n        results: [], \n        value: '' \n    }\n\n  componentWillMount() {\n    this.resetComponent()\n  }\n\n  resetComponent = () => this.setState({ isLoading: false, results: [], value: '' })\n\n  handleResultSelect = (e, { result }) => {\n    // console.log(result)\n    this.setState({ value: result.title })\n    this.props.setSymbol(result.title)\n  }\n\n  handleSearchChange = (e, { value }) => {\n    this.setState({ isLoading: true, value:value.toUpperCase() })\n    this.props.setSymbol(value);\n\n    setTimeout(() => {\n      if (this.state.value.length < 1) return this.resetComponent()\n\n      const re = new RegExp(_.escapeRegExp(this.state.value), 'i')\n      const isMatch = result => re.test(result.title)\n      const isMatchName = result => re.test(result.name)\n      const exactMatch = result => result.title === this.state.value\n      \n      const output = _.filter(this.props.searchData, isMatch).slice(0,8)\n      const outputName = _.filter(this.props.searchData, isMatchName).slice(0,8)\n      const excactOutput = _.filter(this.props.searchData, exactMatch)\n\n      const blurOuput = arrayUnique([...output, ...outputName]).slice(0,8);\n\n      this.setState({\n        isLoading: false,\n        results: arrayUnique([...excactOutput, ...blurOuput])\n      })\n    }, 300)\n  }\n\n\n\n  render() {\n    const { isLoading, value, results } = this.state\n    // console.log(this.props.searchData[0])\n    return (\n          <Search fluid\n            loading={isLoading}\n            onResultSelect={this.handleResultSelect}\n            onSearchChange={_.debounce(this.handleSearchChange, 500, { leading: true })}\n            results={results}\n            value={value}\n            resultRenderer={resultRenderer}\n            placeholder =\"Search Stock Symbol\"\n            input={{ icon: 'search', iconPosition: 'left' }}\n            // {...this.props}\n          />\n    )\n  }\n}\n\n\nfunction arrayUnique(array) {\n  var a = array.concat();\n  for(var i=0; i<a.length; ++i) {\n      for(var j=i+1; j<a.length; ++j) {\n          if(a[i] === a[j])\n              a.splice(j--, 1);\n      }\n  }\n\n  return a;\n}","import React, { Component } from 'react';\nimport { Card, Icon} from 'semantic-ui-react'\nimport debounce from 'lodash/debounce';\nimport { fetchStockQuote, handleErrors } from '../Adapter';\nimport AutoSearch from './AutoSearch';\n\n\n\nclass SearchForm extends Component {\n    state={\n        symbol:\"GOOG\",\n        quote:null\n    }\n\n    componentDidMount(){\n        this.getStockPrice();\n    }\n\n    handleChange=(event, {value})=>{\n        // console.log(value)\n        this.setState({symbol:value.toUpperCase()}, this.getStockPrice);\n    }\n\n    getStockPrice = debounce(()=>{\n        // console.log(\"get price!\");\n        fetchStockQuote(this.state.symbol)\n            .then(handleErrors)\n            .then(data => {\n                if(data.head!== 404){\n                    // console.log(data)\n                    this.setState({quote:data})\n                }else{\n                    this.setState({quote:\"Not Found\"})\n                }\n            }).catch((d)=>this.setState({quote:\"Not Found\"}))\n            \n    }, 300)\n\n    setSymbol=(symbol)=>{\n        // console.log(\"set symbol\", symbol)\n        this.setState({symbol},this.getStockPrice)\n    }\n\n\n    render() {\n        // var high=0, low=0, companyName=\"\", latestPrice=0, change=0, latestTime=\"\";\n        if(this.state.quote!==null && this.state.quote !==\"Not Found\"){\n             var {high, low, companyName, latestPrice, change, latestTime} = this.state.quote;\n        }\n        let arrow = change <0? \"arrow down\": \"arrow up\";\n        let color = change <0? \"red\": \"green\";\n        if(change === 0) {\n            color=\"black\";\n            arrow = \"\";\n        }\n\n        const fontColor = {color}             \n\n        return (\n            <Card fluid color={color} >\n            <Card.Content>\n            <Card.Header style={fontColor}>\n            <AutoSearch \n                searchData={this.props.searchData}\n                setSymbol={this.setSymbol}\n                />\n\n            {/* <Form >\n                <Form.Group >\n                    <Form.Input \n                        width={6} \n                        placeholder=\"Search Stock Symbols\"\n                        icon='search'\n                        iconPosition='left'\n                        value={this.state.symbol}\n                        onChange={this.handleChange}\n                    />\n                </Form.Group>\n                </Form> */}\n                Price: ${latestPrice} Change: ${change} <Icon name={arrow}/>\n            </Card.Header>\n            <Card.Meta>\n                    <span >High:{high} Low:{low}</span>\n                </Card.Meta>\n                <Card.Description>Company: {companyName},  {latestTime}</Card.Description>\n            </Card.Content>\n            </Card>\n        );\n        \n    }\n}\n\nexport default SearchForm;","import React, { Component } from 'react';\nimport { getFocus, handleErrors, fetchBatchQuote } from '../Adapter';\nimport { Grid, Segment } from 'semantic-ui-react'\nimport FocusList from './FocusList';\nimport CardContainer from './CardContainer';\nimport SearchForm from './SearchForm';\n\nclass Home extends Component {\n    state={\n        focus:[],\n        etfs:[],\n    }\n\n    componentDidMount(){\n        this.getInfo();\n        this.interval= setInterval(this.getInfo , 5000);\n    }\n\n    componentWillUnmount(){\n        clearInterval(this.interval)\n    }\n\n\n    getInfo=()=>{\n        getFocus().then(handleErrors).then(data => this.setState({focus:data}))\n        fetchBatchQuote([\"DIA\", \"SPY\", \"IWM\", \"QQQ\"])\n            .then(handleErrors)\n            .then(data => this.setState({etfs:data}))\n            .catch(d=>console.log(\"Fetch ETFs ERROR!\"))\n    }\n\n    render() {\n        const userName = this.props.userID ? this.props.userName : \"guest\";\n        const message =this.props.userID \n            ? \"Today's snapshot:\" \n            : \"Please sign up or login for full functionalities.\";\n        return (\n            <div className=\"home-container\">\n                <h1>\n                    Welcome, {userName}! \n                </h1>\n                <h3>\n                    {message}\n                </h3>\n\n                <Grid columns={2} relaxed>\n                    <Grid.Column>\n                    <Segment basic>\n                    <FocusList stocks={this.state.focus}/>\n                    </Segment>\n                    </Grid.Column>\n\n                    <Grid.Column style={{margin:\"inherit\"}}>\n                        <h2>Find Stock:</h2>\n                        <SearchForm searchData={this.props.searchData}/>\n\n                        <CardContainer etfs={this.state.etfs}/>\n                    </Grid.Column>\n                </Grid>\n            </div>\n        );\n    }\n}\n\nexport default Home;","import React, { Component } from 'react';\nimport { Button, Form, Grid, Header, Segment, Message } from 'semantic-ui-react';\nimport { postSessions } from '../Adapter';\n\nclass Login extends Component {\n    state={\n        email:\"\",\n        password:\"\",\n        message:null\n    }\n\n    componentWillUnmount(){\n        this.setState({\n            email:'',\n            password:'',\n            message:null\n        })\n    }\n\n\n    handleSumbit=(event)=>{\n        event.preventDefault();\n        console.log(this.state);\n        const {email, password} = this.state;\n        let user ={\n            email,\n            password\n        }\n        postSessions(user).then(this.handleErrors).then( d => {\n            console.log(d)\n            if(d.token){\n                localStorage.setItem('token', d.token)\n                this.props.backToHome()\n            }else{\n                alert(Object.keys(d)+\" \"+ d[Object.keys(d)]);\n            }\n          }).catch((error)=> {\n            this.setState({message:\"Email/Password incorrect!\"})\n            })\n    }\n\n    handleErrors(response) {\n        console.log(response)\n        if (!response.ok) {\n            throw Error(response.statusText);\n        }\n        return response.json();\n    }\n\n    handleInput = (event, { value, name })=>{\n        // console.log(event.target, value, name)\n        let message = null;\n        this.setState({[name]:value, message})\n    }\n\n    displayMessage=()=>{\n        let message1 = <Message color=\"red\">\n            {this.state.message}\n            </Message>        \n        return this.state.message? message1: null;                 \n    }\n\n    render() {\n        const {email, password} = this.state;\n        return (\n            <div className='login-form'>\n\n            <Grid textAlign='center' style={{ height: '100%' }} verticalAlign='middle' >\n              <Grid.Column style={{ maxWidth: 450 }}>\n                <Header as='h2' color='black' textAlign='center'>\n                   Please Login\n                </Header>\n                <Form size='large'>\n                  <Segment stacked>\n                    <Form.Input fluid icon='user'\n                    value={email} \n                    onChange={this.handleInput}\n                    iconPosition='left' \n                    placeholder='E-mail address' \n                    name=\"email\"/>\n                    <Form.Input\n                      fluid\n                      icon='lock'\n                      iconPosition='left'\n                      placeholder='Password'\n                      type='password'\n                      onChange={this.handleInput}\n                      name=\"password\"\n                      value={password}\n\n                    />\n        \n                    <Button color='green' fluid size='large' onClick={this.handleSumbit}>\n                      Login\n                    </Button>\n                  </Segment>\n                </Form>\n                {this.displayMessage()}\n              </Grid.Column>\n            </Grid>\n          </div>\n        );\n    }\n}\n\nexport default Login;","import React, { Component } from 'react';\nimport { Button, Form, Grid, Header, Segment, Message } from 'semantic-ui-react';\nimport { postUser } from '../Adapter';\n\nclass Signup extends Component {\n    state={\n        email:'',\n        username:'',\n        password:'',\n        passwordReenter:'',\n        message:null,\n        valid:false,\n    }\n\n    componentWillUnmount(){\n        this.setState({\n            email:'',\n            username:'',\n            password:'',\n            passwordReenter:'',\n            message:\"\",\n            valid:false,\n        })\n    }\n\n    handleSumbit=(event)=>{\n        event.preventDefault();\n        console.log(this.state);\n        const {email , username, password} = this.state;\n        let user ={\n            email,\n            username,\n            password\n        }\n        postUser(user).then(this.handleErrors).then( d => {\n            console.log(d)\n            if(d.token){\n                localStorage.setItem('token', d.token)\n                // this.props.history.push('/')\n                this.props.backToHome()\n            }else{\n                alert(Object.keys(d)+\" \"+ d[Object.keys(d)]);\n            }\n          }).catch((error)=> {\n            this.setState({message:\"Email has been taken!\"})\n            })\n    }\n\n    handleErrors(response) {\n        console.log(response)\n        if (!response.ok) {\n            throw Error(response.statusText);\n        }\n        return response;\n    }\n\n    handleInput = (event, { value, name })=>{\n        // console.log(event.target, value, name)\n        let message = null;\n        // console.log(this.checkEmail())\n        if(this.checkEmail()){\n            message = \"Email can not be blank!\"\n        }else if(this.state.password ===\"\"){\n            message = \"Password can not be blank!\"            \n        }else if(this.checkPassword()){            \n            message = \"Your password doesn't match!\"\n        }\n        // console.log(message)\n        this.setState({[name]:value, message}, this.validate)\n    }\n\n    validate=()=>{\n        if(this.state.email!==\"\" \n            && this.state.password!==\"\" \n            && this.state.password === this.state.passwordReenter)\n            this.setState({valid:true, message:\"\"})\n        else\n            this.setState({valid:false})\n    }\n\n    displayMessage=()=>{\n        let message1 = <Message color=\"red\">\n            {this.state.message}\n            </Message>        \n        return this.state.message? message1: null;                 \n    }\n\n    checkPassword=()=>{       \n        return this.state.password!==this.state.passwordReenter;                 \n    \n    }\n\n    checkEmail=()=>{\n        return this.state.email === \"\";     \n    }\n\n    signupButton=()=>{\n        if(this.state.valid)\n            return <Button color='green' fluid size='large' onClick={this.handleSumbit}>Sign Up</Button>\n        else\n        return <Button disabled color='green' fluid size='large' onClick={this.handleSumbit}>Sign Up</Button>\n\n    }\n\n    \n    render() {\n        const {email , username, password, passwordReenter} = this.state;\n        return (\n            <div className='signup-form'>\n\n            <Grid textAlign='center' style={{ height: '100%'}} verticalAlign='middle' >\n              <Grid.Column style={{ maxWidth: 450 }}>\n                <Header as='h2' color='black' textAlign='center'>\n                   Please Register\n                </Header>\n                <Form size='large'>\n                  <Segment stacked>\n                    <Form.Input fluid icon='user' \n                        name=\"email\"\n                        iconPosition='left' \n                        placeholder='E-mail address'\n                        onChange={this.handleInput} \n                        value={email}/>\n                    <Form.Input fluid icon='user' \n                        name=\"username\"\n                        iconPosition='left' \n                        placeholder='Name' \n                        onChange={this.handleInput} \n                        value={username}/>\n                    <Form.Input\n                      fluid\n                      name=\"password\"\n                      icon='lock'\n                      iconPosition='left'\n                      placeholder='Password'\n                      onChange={this.handleInput} \n                      type='password'\n                      value={password}\n                    />\n\n                    <Form.Input\n                      fluid\n                      name=\"passwordReenter\"\n                      icon='lock'\n                      iconPosition='left'\n                      placeholder='Reenter Your Password'\n                      onChange={this.handleInput} \n                      type='password'\n                      value={passwordReenter}\n                    />\n        \n                    {this.signupButton()}\n                  </Segment>\n                </Form>\n                {this.displayMessage()}\n    \n\n              </Grid.Column>\n            </Grid>\n          </div>\n        );\n    }\n}\n\nexport default Signup;","import React, { Component } from 'react';\nimport { Table, Pagination } from 'semantic-ui-react';\nimport { fetchUserHistory} from '../Adapter';\n\n\nclass Trades extends Component {\n    state={\n        trades:[],\n        meta:{},\n        activePage:1,\n    }\n\n    componentDidMount(){\n        this.getTrades();\n    }\n\n    componentWillUnmount(){\n        this.setState({\n            trades:[],\n            meta:{},\n            activePage:1,\n        })\n    }\n\n    handleErrors = (response)=>{\n            // console.log(response)\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n    // console.log(response)\n    // console.log(response.headers.get('Link'))\n\n    // response.headers.forEach(function(val, key) { console.log(key + ' -> ' + val); });\n    return response.json();\n    }\n\n    getTrades=(page=1)=>{\n        const token = localStorage.getItem('token');\n\n        fetchUserHistory(token, this.props.userID, page)\n            .then(this.handleErrors)\n            .then(this.storeData)\n            .catch(()=> console.log(\"ERROR\"))\n    }\n\n    storeData=(data)=>{\n        this.setState({trades:data.trades, meta:data.meta, activePage:data.meta.current_page })\n    }\n\n    generateTables=()=>{\n        return this.state.trades.map(e=>{\n            // console.log(e);\n            let {created_at, stock_symbol, quantity, price, action} = e;\n\n            let estTime = new Date(created_at);\n            // console.log(estTime)\n            return <Table.Row key ={Date.now()+stock_symbol+quantity+created_at}>\n        <Table.Cell>{estTime.toDateString()}</Table.Cell>\n        <Table.Cell>{stock_symbol}</Table.Cell>\n        <Table.Cell>{quantity}</Table.Cell>\n        <Table.Cell>{price}</Table.Cell>\n        <Table.Cell>{action}</Table.Cell>\n        </Table.Row>\n        })\n    }\n\n    handlePageSelect=(event, {activePage})=>{\n        this.getTrades(activePage);\n        // console.log(activePage)\n    }\n\n    topPages =(key)=>{\n        if(this.state.meta.total_pages && this.state.meta.total_pages > 1)\n            return <Pagination key={key} \n                    onPageChange={this.handlePageSelect}\n                    defaultActivePage={this.state.meta.current_page} \n                    totalPages={this.state.meta.total_pages} />\n\n        return null;\n    }\n    \n    render() {\n        return (\n            <div className=\"trades-table\">\n                <h2>\n                Trade History\n                </h2>\n                {this.topPages(\"top_pagination\")}\n                <Table >\n                    <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell>Date</Table.HeaderCell>\n                        <Table.HeaderCell>Symbol</Table.HeaderCell>\n                        <Table.HeaderCell>Shares</Table.HeaderCell>\n                        <Table.HeaderCell>Price($)</Table.HeaderCell>\n                        <Table.HeaderCell>Buy/Sell</Table.HeaderCell>\n                    </Table.Row>\n                    </Table.Header>\n\n                    <Table.Body>\n                        {this.state.trades.length>0 ? this.generateTables():null}\n                    </Table.Body>\n                    </Table>\n                    {this.topPages(\"down_pagination\")}\n\n                    {/* {this.state.meta.totalPages === 1?null :this.bottomPages(\"999bottom_pagination\")} */}\n            </div>\n        );\n    }\n}\n\nexport default Trades;\n","import React, { Component } from 'react';\nimport { Button, Form, Grid, Header, Message } from 'semantic-ui-react';\nimport { fetchStockQuote, handleErrors } from '../Adapter';\nimport debounce from 'lodash/debounce';\nimport AutoSearch from './AutoSearch';\n\nclass BuySellForm extends Component {\n    state={\n        symbol:\"\",\n        quantity:0,\n        message:null,\n        price:null,\n        valid:false,\n    }\n\n    componentDidMount(){\n        this.interval = setInterval(this.getPeriodicUpdate, 5000);\n    }\n\n    componentWillUnmount(){\n        clearInterval(this.interval);\n        this.clearState();\n    }\n\n\n    clearState=()=>{\n        this.setState({\n            symbol:\"\",\n            quantity:0,\n            message:null,\n            price:null,\n            valid:false,\n        })\n    }\n\n    getPeriodicUpdate=()=>{\n        if(this.state.valid && this.state.symbol!==\"\"){\n\n            this.getStockPrice()\n        }\n    }\n\n    getStockPrice=debounce(()=>{\n        // console.log(\"get price!\");\n        fetchStockQuote(this.state.symbol)\n            .then(handleErrors)\n            .then(data => {\n                if(data.head!== 404){\n                    let message = \"Company: \"+data.companyName +\" || Current Price: $\" + data.latestPrice\n                    // console.log(data)\n                    this.setState({message, price:data.latestPrice, valid:true})\n                }else{\n                    this.setState({valid:false,message:null})\n                }\n            }).catch((d)=>this.setState({valid:false, message:null}))\n            \n    }, 300)\n\n\n    handleBuySumbit=()=>{\n        let total = this.state.price*this.state.quantity;\n        if(this.props.validBuy && total < this.props.balance && this.state.valid){\n            this.props.handleBuy(this.state.symbol, this.state.quantity, this.state.price);\n        }\n    }\n\n    handleSellSubmit=()=>{\n        this.props.handleSell(this.state.symbol, this.state.quantity, this.state.price);\n    }\n    \n    handleSearchInput=(value)=>{\n        if(value !== \"\")this.getStockPrice();\n        value=value.toUpperCase();\n        this.setState({symbol:value}, this.validate);\n    }\n\n    handleInput = (event, { value, name })=>{\n        // console.log(event.target.value, value, name)\n        switch (name) {\n            case \"symbol\":\n                if(value !== \"\")this.getStockPrice();\n                value=value.toUpperCase();\n                break;\n            case \"quantity\":\n                let regex = /[0-9]|\\./;\n                if(regex.test(value))\n                    value= parseInt(value);\n                else\n                    value= \"\";\n                break;\n\n            default:\n                break;\n        }\n        this.setState({[name]:value}, this.validate);\n    }\n\n    validate=()=>{\n        this.props.validateBuy(this.state.symbol, this.state.quantity, this.state.price);\n        this.props.validateSell(this.state.symbol, this.state.quantity);\n    }\n\n\n    buyButton=()=>{\n        if(this.state.valid && this.props.validBuy)\n            return <Button positive onClick={this.handleBuySumbit}>Buy</Button>\n        return <Button positive disabled >Buy</Button>\n    }\n    sellButton=()=>{\n        // console.log(\"sell button\", this.props.validSell)\n        if(this.props.validSell){\n            return <Button negative onClick={this.handleSellSubmit}>Sell</Button>\n        }\n        return <Button negative disabled >Sell</Button>\n    }\n\n    displayMessage = () =>{\n        let message1 = <Message color=\"red\">\n            Invalid Stock Symbol\n            </Message>        \n        return !this.state.valid&&this.state.symbol!==\"\"? message1: null;    \n    }\n\n\n    displayQuote=()=>{\n        let message1 = <Message color=\"green\">\n            {this.state.message}\n        </Message>        \n    return this.state.valid? message1: null; \n    }\n\n    displayTotal=()=>{\n        let total = this.state.price*this.state.quantity;\n        let color = total > this.props.balance ? \"red\" : \"green\"\n        let reminder = color ===\"red\" ? \" Over your budget!\" : null;\n        let message1 = <Message color={color}>\n            Total Cost : ${total.toFixed(2)} {reminder}\n        </Message>        \n        return this.state.valid? message1: null; \n    }\n\n    render() {\n        const {symbol, quantity} = this.state;\n        const icon = this.state.valid? \"check\" : \"x\";\n        const balance = this.props.balance ? this.props.balance.toFixed(2) : 0;\n        return (\n            <div className=\"buy-sell-form\">\n                 <Grid textAlign='center' style={{ height: '100%' }} verticalAlign='middle' >\n              <Grid.Column style={{ maxWidth: 530, height:380 }}>\n                <Header as='h2' color='black' textAlign='center'>\n                   Current Cash: ${balance}\n                </Header>\n                <Form size='large'>\n                  \n                    {/* Stock Symbol:<Form.Input fluid icon={icon}\n                    value={symbol} \n                    onChange={this.handleInput}\n                    iconPosition='left' \n                    placeholder='Stock Symbol' \n                    name=\"symbol\"/> */}\n\n                    <AutoSearch fluid\n                        searchData={this.props.searchData}\n                        setSymbol={this.handleSearchInput}\n                    \n                    />\n                    Number of Shares:<Form.Input\n                      fluid\n                      icon='circle'\n                      iconPosition='left'\n                      placeholder='Number of shares'\n                      onChange={this.handleInput}\n                      name=\"quantity\"\n                      type=\"integer\"\n                      value={quantity}\n\n                    />\n\n                      <Button.Group fluid>\n                        {this.buyButton()}\n                        <Button.Or />\n                        {this.sellButton()}\n                    </Button.Group>\n                    \n                  \n                </Form>\n                {this.displayMessage()}\n                {this.displayQuote()}\n                {this.displayTotal()}\n              </Grid.Column>\n            </Grid>\n                \n            </div>\n        );\n    }\n}\n\nexport default BuySellForm;","import React, { Component } from 'react';\nimport { Table } from 'semantic-ui-react'\n\nclass StockList extends Component {\n\n    generateTables=()=>{\n        const cellColor = (status, value) => {\n            switch (status) {\n                case \"positive\":\n                    return <Table.Cell positive>{value}</Table.Cell>\n                    \n                case \"negative\":\n                    return <Table.Cell negative>{value}</Table.Cell>\n        \n                default:\n                    return <Table.Cell>{value}</Table.Cell>       \n            }\n        }\n        const alphabeticOrder = (a,b) => a.stock_symbol.localeCompare(b.stock_symbol);\n\n       return this.props.stocks.sort(alphabeticOrder).map( e => {\n            let price = this.props.latestPrice[e.stock_symbol];\n            if(!price){\n                price = e.price;\n            }else{\n                price = this.props.latestPrice[e.stock_symbol].price\n            }\n            let status = \"\";\n            if(price > e.openPrice) status=\"positive\";\n            else if(price < e.openPrice) status=\"negative\";\n        //    const price= Object.keys(this.props.latestPrice).length === 0 ? 0 : this.props.latestPrice[e.stock_symbol].price;\n        //    console.log(e, this.props.latestPrice, price)\n        return <Table.Row key={Date.now()+e.stock_symbol}>\n            {cellColor(status, e.stock_symbol)}\n            {cellColor(status, e.quantity)}\n            {cellColor(status, e.openPrice)}\n            {cellColor(status, price)}\n            {cellColor(status, (e.quantity*price).toFixed(2))}\n        </Table.Row>\n\n       })\n    }\n\n    total =() =>{\n        if(Object.keys(this.props.latestPrice).length > 0 \n            && this.props.stocks.length >0){\n            \n            // console.log()            \n\n            return this.props.stocks.reduce((acc,e)=>{   \n                let price = this.props.latestPrice[e.stock_symbol];\n                if(!price){\n                    price = e.price;\n                }else{\n                    price = this.props.latestPrice[e.stock_symbol].price\n                }\n                return acc+ price*e.quantity \n            }, 0);\n        }\n        return 0;\n    }\n\n    render() {\n        // const total = this.props.stocks.length>1?  : 0;\n        return (\n            <div className=\"stock-table\">\n                <h2>Total Value: ${this.total().toFixed(2)}</h2>\n                \n                  <Table >\n                    <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell>Symbol</Table.HeaderCell>\n                        <Table.HeaderCell>Shares</Table.HeaderCell>\n                        <Table.HeaderCell>Open($)</Table.HeaderCell>\n                        <Table.HeaderCell>Current($)</Table.HeaderCell>\n                        <Table.HeaderCell>Value($)</Table.HeaderCell>\n                    </Table.Row>\n                    </Table.Header>\n\n                    <Table.Body>\n                    {this.generateTables()}\n                    </Table.Body>\n                </Table>\n                \n            </div>\n        );\n    }\n}\n\nexport default StockList;","\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { scaleTime } from \"d3-scale\";\nimport { curveMonotoneX } from \"d3-shape\";\n\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\nimport { AreaSeries } from \"react-stockcharts/lib/series\";\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\nimport { createVerticalLinearGradient, hexToRGBA } from \"react-stockcharts/lib/utils\";\n\nimport { format } from \"d3-format\";\nimport { timeFormat } from \"d3-time-format\";\nimport {\n\tCrossHairCursor,\n\tMouseCoordinateX,\n\tMouseCoordinateY\n} from \"react-stockcharts/lib/coordinates\";\n\nconst canvasGradient = createVerticalLinearGradient([\n\t{ stop: 0, color: hexToRGBA(\"#b5d0ff\", 0.2) },\n\t{ stop: 0.7, color: hexToRGBA(\"#6fa4fc\", 0.4) },\n\t{ stop: 1, color: hexToRGBA(\"#4286f4\", 0.8) },\n]);\n\nclass AreaChart extends React.Component {\n\trender() {\n        const { data, type, width, ratio, symbol } = this.props;\n        const date = new Date(data[data.length -1].date);\n        const beginDate = new Date(data[0].date);\n\t\t// console.log(data)\n\t\treturn (\n\t\t\t<ChartCanvas ratio={ratio} width={width} height={400}\n\t\t\t\tmargin={{ left: 50, right: 50, top: 10, bottom: 30 }}\n\t\t\t\tseriesName={symbol}\n\t\t\t\tdata={data} type={type}\n\t\t\t\txAccessor={d => d.date}\n\t\t\t\txScale={scaleTime()}\n\t\t\t\txExtents={[beginDate, date]}\n\t\t\t>\n\t\t\t\t<Chart id={0} yExtents={d => d.close}>\n\t\t\t\t\t<defs>\n\t\t\t\t\t\t<linearGradient id=\"MyGradient\" x1=\"0\" y1=\"100%\" x2=\"0\" y2=\"0%\">\n\t\t\t\t\t\t\t<stop offset=\"0%\" stopColor=\"#b5d0ff\" stopOpacity={0.2} />\n\t\t\t\t\t\t\t<stop offset=\"70%\" stopColor=\"#6fa4fc\" stopOpacity={0.4} />\n\t\t\t\t\t\t\t<stop offset=\"100%\"  stopColor=\"#4286f4\" stopOpacity={0.8} />\n\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t</defs>\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" ticks={6}/>\n\t\t\t\t\t<YAxis axisAt=\"left\" orient=\"left\" />\n                    <MouseCoordinateX\n\t\t\t\t\t\tat=\"bottom\"\n\t\t\t\t\t\torient=\"bottom\"\n\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")}\n\t\t\t\t\t/>\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"left\"\n\t\t\t\t\t\torient=\"left\"\n\t\t\t\t\t\tdisplayFormat={format(\".4s\")}\n\t\t\t\t\t/>\n\t\t\t\t\t<AreaSeries\n\t\t\t\t\t\tyAccessor={d => d.close}\n\t\t\t\t\t\tfill=\"url(#MyGradient)\"\n\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\tinterpolation={curveMonotoneX}\n\t\t\t\t\t\tcanvasGradient={canvasGradient}\n\t\t\t\t\t/>\n\t\t\t\t</Chart>\n                <CrossHairCursor />\n\t\t\t</ChartCanvas>\n\t\t);\n\t}\n}\n\n\nAreaChart.propTypes = {\n\tdata: PropTypes.array.isRequired,\n\twidth: PropTypes.number.isRequired,\n\tratio: PropTypes.number.isRequired,\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n};\n\nAreaChart.defaultProps = {\n\ttype: \"svg\",\n};\nAreaChart = fitWidth(AreaChart);\n\nexport default AreaChart;","import React, { Component } from 'react';\nimport StockChart from './StockChart';\n\n\nclass ChartContainer extends Component {\n\n\n\n    shouldComponentUpdate(nextProps){\n        // console.log(this.props.symbol, nextProps.symbol)\n        if(nextProps.symbol !== this.props.symbol \n            || this.isDataChange(nextProps.data, this.props.data)){\n            \n                return true;\n        }\n        return false;\n    }\n\n    isDataChange=(next, now)=>{\n        if(next.length !== now.length) return true;\n        if(next.length >0 && now.length >0)\n            if(next[0].close !== now[0].close)\n                return true;\n        return false;\n    }\n\n\n    render() {\n        // console.log(this.props.data.length)\n\t\tif (this.props.data.length < 1 || this.props.symbol == \"\") {\n\t\t\treturn <div></div>\n        }\n        const {symbol} = this.props;\n\t\treturn (\n            <div className=\"small-stock-chart\" >\n            <h3>Stock Symbol:  {symbol}</h3>\n\t\t\t<StockChart data={this.props.data} symbol={symbol}/>\n            </div>\n\t\t)\n\t}\n}\n\nexport default ChartContainer;","\n// import { tsvParse } from  \"d3-dsv\";\nimport { timeParse } from \"d3-time-format\";\n\n\nconst parseDate = timeParse(\"%Y-%m-%d\");\n\nexport function parseData(data){\n    return data.map( e=> {return {...e, \"date\":parseDate(e.date)}});\n}\n\n// export function getData() {\n// \tconst promiseQuote = fetch(`https://api.iextrading.com/1.0/stock/aapl/chart/6m`)\n//         .then(response => response.json())\n//         // .then(data => console.log(typeof(data)))\n// \t\t.then(data => data.map( e=> {return {...e, date:parseDate(e.date)}}) )\n// \treturn promiseQuote;\n// }","import React, { Component } from 'react';\nimport { Grid, Segment, Divider } from 'semantic-ui-react';\nimport BuySellFrom from './BuySellForm';\nimport { sendTrade, handleErrors,fetchBatchQuote, fetchStockPrice , getChart} from '../Adapter';\nimport StockList from './StockList';\nimport ChartContainer from './ChartContainer';\nimport { parseData, getData } from '../Utility';\nimport debounce from 'lodash/debounce';\n\n\n\nclass Portfolio extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.state={\n            stocks:[],\n            latestPrice:{},\n            chartData:[],\n            validSell:false,\n            validBuy:false,\n            symbol:null,\n        }\n    }\n    componentDidMount(){\n        // console.log(\"props.stocks\",this.props.stocks)\n        this.setState({stocks:this.props.stocks}, this.getPrice)\n        //check price every 5 seconds\n        this.interval = setInterval(this.updateLatestPrice, 5000);\n\n    }\n\n    componentWillUnmount(){\n        clearInterval(this.interval);\n        this.setState({\n            stocks:[],\n            latestPrice:{},\n            validSell:false,\n            validBuy:false,\n        })\n    }\n\n    //deep compare fn to check quantity change\n    componentDidUpdate(prevProps, prevState){\n        if(this.isUpdateNeeded(prevProps)){\n            this.setState({ stocks:[...this.props.stocks]}, this.getPrice)\n        }\n        if(prevState.symbol !== this.state.symbol){\n            if(this.state.symbol !==\"\"){\n                console.log(this.state.symbol)\n                this.getChartData(this.state.symbol)\n            }else \n                this.setState({chartData:[]})\n        }   \n    }\n\n    isUpdateNeeded=(prevProps)=>{\n        if(prevProps.stocks.length !== this.props.stocks.length)\n            return true;\n        let changed = false;\n        this.props.stocks.forEach((e,i)=>{\n            if(prevProps.stocks[i].quantity !== e.quantity)\n                changed=true;\n        })\n        return changed;\n    }\n\n\n    getChartData=debounce((symbol)=>{\n        // console.log(\"gets called\", symbol)\n        getChart(symbol)\n        .then(handleErrors)\n        .then( d=> {\n            let data = parseData(d);\n            // console.log(data)\n            this.setState({chartData:data})\n        })\n        .catch(e=>{\n            this.setState({chartData:[]})\n            console.log(\"invalid symbol\");\n        })\n    },300)\n\n\n    getPrice=()=>{\n        this.getOpenPrice();\n        // this.updateLatestPrice();\n    }\n    \n    getOpenPrice=()=>{\n        const symbols=this.state.stocks.map(e=>e.stock_symbol);\n        fetchBatchQuote(symbols)\n            .then(handleErrors)\n            .then(this.storePriceToState)\n            .then(this.updateLatestPrice)\n            .catch(()=>console.log(\"fetchBathQuote ERROR!\"))\n    }\n\n    storePriceToState=(data)=>{\n        // console.log(data)\n        let result =[];\n        this.state.stocks.forEach(e=>{\n            // console.log(data[e.stock_symbol].quote.open)\n            result.push({...e, \n                openPrice:data[e.stock_symbol].quote.open, \n                price:data[e.stock_symbol].quote.latestPrice\n            })\n        })\n        this.setState({stocks:result})\n    }\n\n    updateLatestPrice=()=>{\n        const symbols=this.state.stocks.map(e=>e.stock_symbol);\n\n        fetchStockPrice(symbols)\n            .then(handleErrors)\n            .then(data=>this.setState({latestPrice:data}))\n            .catch(console.log);\n        console.log(\"GET PRICE ONLY!\");\n    }\n    \n    buyStock=(sym, quantity, price)=>{\n        const token = localStorage.getItem('token');\n        const trade ={sym, quantity, price, action:\"BUY\"};\n        sendTrade(trade, this.props.userID, token)\n        .then(handleErrors)\n        .then(this.props.afterTrade)\n        .then(()=>this.validateButtons(sym, quantity, price))        \n        .catch(()=>console.log(\"ERROR!Transaction Failed!\"))\n        console.log(\"buystock\")\n    }\n\n    sellStock=(sym, quantity, price)=>{\n        console.log(\"sell stock\", sym, quantity, price)\n        const token = localStorage.getItem('token');\n        const trade ={sym, quantity, price, action:\"SELL\"};\n        sendTrade(trade, this.props.userID, token)\n        .then(handleErrors)\n        .then(this.props.afterTrade)\n        .then(()=>this.validateButtons(sym, quantity, price))\n        .catch(()=>console.log(\"ERROR!Transaction Failed!\"))\n\n    }\n\n    validateButtons=(sym, quantity, price)=>{\n        this.validateBuy(sym, quantity, price);\n        this.validateSell(sym, quantity);\n    }\n\n    validateBuy=(symbol,n, price)=>{\n        if(n > 0 && n*price < this.props.balance && symbol !==\"\"){\n            this.setState({validBuy:true, symbol});\n        }else{\n            this.setState({validBuy:false, symbol});\n        }\n    }\n\n    validateSell=(symbol, n)=>{\n        let valid = false;\n        this.state.stocks.forEach( e=>{\n            // console.log(e.quantity,  n, symbol)\n            if(e.stock_symbol === symbol && e.quantity >= n && n >0){\n                // console.log(\"inside!!!!!\")\n                valid = true;\n                return\n            }\n        })\n        this.setState({validSell:valid, symbol})\n    }\n\n\n    render() {\n        // console.log(\"portfolio\",this.props.stocks, this.state.stocks)\n        return (\n            <div className=\"portfolio-container\">\n                <Grid columns={2} relaxed>\n                    <Grid.Column>\n                    <Segment basic>\n                        <StockList \n                            stocks={this.state.stocks}\n                            latestPrice={this.state.latestPrice}\n                        />\n                    \n                    </Segment>\n                    </Grid.Column>\n                    <Divider vertical>|</Divider>\n                    <Grid.Column>\n                    <Segment basic>\n                        <BuySellFrom\n                            handleBuy={this.buyStock}\n                            handleSell={this.sellStock}\n                            balance={this.props.balance}                            \n                            selected = {null}\n                            validBuy = {this.state.validBuy}\n                            validateBuy={this.validateBuy}\n                            validSell = {this.state.validSell}\n                            validateSell = {this.validateSell}\n                            searchData={this.props.searchData}\n\n                        />\n                    </Segment>\n                    <ChartContainer symbol={this.state.symbol} data={this.state.chartData}/>\n\n                    </Grid.Column>\n                </Grid>\n                \n            </div>\n        );\n    }\n}\n\nexport default Portfolio;","\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { format } from \"d3-format\";\nimport { timeFormat } from \"d3-time-format\";\n\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\nimport {\n\tBarSeries,\n\tStraightLine,\n\tCandlestickSeries,\n\tLineSeries,\n\tStochasticSeries,\n} from \"react-stockcharts/lib/series\";\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\nimport {\n\tCrossHairCursor,\n\tEdgeIndicator,\n\tCurrentCoordinate,\n\tMouseCoordinateX,\n\tMouseCoordinateY,\n} from \"react-stockcharts/lib/coordinates\";\n\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\";\nimport {\n\tOHLCTooltip,\n\tMovingAverageTooltip,\n\tStochasticTooltip,\n} from \"react-stockcharts/lib/tooltip\";\nimport { ema, stochasticOscillator } from \"react-stockcharts/lib/indicator\";\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\nimport { last } from \"react-stockcharts/lib/utils\";\n\nconst stoAppearance = {\n\tstroke: Object.assign({},\n\t\tStochasticSeries.defaultProps.stroke)\n};\n\nclass CandleStickChartWithFullStochasticsIndicator extends React.Component {\n\trender() {\n\t\tconst height = 750;\n\t\tconst { type, data: initialData, width, ratio } = this.props;\n\t\tconst margin = { left: 70, right: 70, top: 20, bottom: 30 };\n\n\t\tconst gridHeight = height - margin.top - margin.bottom;\n\t\tconst gridWidth = width - margin.left - margin.right;\n\n\t\tconst showGrid = true;\n\t\tconst yGrid = showGrid ? { innerTickSize: -1 * gridWidth, tickStrokeOpacity: 0.1 } : {};\n\t\tconst xGrid = showGrid ? { innerTickSize: -1 * gridHeight, tickStrokeOpacity: 0.1 } : {};\n\n\t\tconst ema20 = ema()\n\t\t\t.id(0)\n\t\t\t.options({ windowSize: 20 })\n\t\t\t.merge((d, c) => {d.ema20 = c;})\n\t\t\t.accessor(d => d.ema20);\n\n\t\tconst ema50 = ema()\n\t\t\t.id(2)\n\t\t\t.options({ windowSize: 50 })\n\t\t\t.merge((d, c) => {d.ema50 = c;})\n\t\t\t.accessor(d => d.ema50);\n\n\t\tconst slowSTO = stochasticOscillator()\n\t\t\t.options({ windowSize: 14, kWindowSize: 3 })\n\t\t\t.merge((d, c) => {d.slowSTO = c;})\n\t\t\t.accessor(d => d.slowSTO);\n\t\tconst fastSTO = stochasticOscillator()\n\t\t\t.options({ windowSize: 14, kWindowSize: 1 })\n\t\t\t.merge((d, c) => {d.fastSTO = c;})\n\t\t\t.accessor(d => d.fastSTO);\n\t\tconst fullSTO = stochasticOscillator()\n\t\t\t.options({ windowSize: 14, kWindowSize: 3, dWindowSize: 4 })\n\t\t\t.merge((d, c) => {d.fullSTO = c;})\n\t\t\t.accessor(d => d.fullSTO);\n\n\t\tconst calculatedData = ema20(ema50(slowSTO(fastSTO(fullSTO(initialData)))));\n\t\tconst xScaleProvider = discontinuousTimeScaleProvider\n\t\t\t.inputDateAccessor(d => d.date);\n\t\tconst {\n\t\t\tdata,\n\t\t\txScale,\n\t\t\txAccessor,\n\t\t\tdisplayXAccessor,\n\t\t} = xScaleProvider(calculatedData);\n\n\t\tconst start = xAccessor(last(data));\n\t\tconst end = xAccessor(data[Math.max(0, data.length - 150)]);\n\t\tconst xExtents = [start, end];\n\t\treturn (\n\t\t\t<ChartCanvas height={750}\n\t\t\t\twidth={width}\n\t\t\t\tratio={ratio}\n\t\t\t\tmargin={margin}\n\t\t\t\ttype={type}\n\t\t\t\tseriesName=\"MSFT\"\n\t\t\t\tdata={data}\n\t\t\t\txScale={xScale}\n\t\t\t\txAccessor={xAccessor}\n\t\t\t\tdisplayXAccessor={displayXAccessor}\n\t\t\t\txExtents={xExtents}\n\t\t\t>\n\t\t\t\t<Chart id={1} height={325}\n\t\t\t\t\tyExtents={d => [d.high, d.low]}\n\t\t\t\t\tpadding={{ top: 10, bottom: 20 }}\n\t\t\t\t>\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={5} {...yGrid}/>\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" showTicks={false} outerTickSize={0} />\n\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\n\n\t\t\t\t\t<CandlestickSeries />\n\n\t\t\t\t\t<LineSeries yAccessor={ema20.accessor()} stroke={ema20.stroke()}/>\n\t\t\t\t\t<LineSeries yAccessor={ema50.accessor()} stroke={ema50.stroke()}/>\n\n\t\t\t\t\t<CurrentCoordinate yAccessor={ema20.accessor()} fill={ema20.stroke()} />\n\t\t\t\t\t<CurrentCoordinate yAccessor={ema50.accessor()} fill={ema50.stroke()} />\n\n\t\t\t\t\t<EdgeIndicator itemType=\"last\" orient=\"right\" edgeAt=\"right\"\n\t\t\t\t\t\tyAccessor={d => d.close} fill={d => d.close > d.open ? \"#6BA583\" : \"#FF0000\"}/>\n\n\t\t\t\t\t<StraightLine type=\"vertical\" xValue={608} />;\n\t\t\t\t\t<StraightLine type=\"vertical\" xValue={558} strokeDasharray=\"Dot\" />;\n\t\t\t\t\t<StraightLine type=\"vertical\" xValue={578} strokeDasharray=\"LongDash\" />;\n\n\t\t\t\t\t<OHLCTooltip origin={[-40, -10]}/>\n\t\t\t\t\t<MovingAverageTooltip\n\t\t\t\t\t\tonClick={e => console.log(e)}\n\t\t\t\t\t\torigin={[-38, 5]}\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tyAccessor: ema20.accessor(),\n\t\t\t\t\t\t\t\ttype: ema20.type(),\n\t\t\t\t\t\t\t\tstroke: ema20.stroke(),\n\t\t\t\t\t\t\t\twindowSize: ema20.options().windowSize,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tyAccessor: ema50.accessor(),\n\t\t\t\t\t\t\t\ttype: ema50.type(),\n\t\t\t\t\t\t\t\tstroke: ema50.stroke(),\n\t\t\t\t\t\t\t\twindowSize: ema50.options().windowSize,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={2}\n\t\t\t\t\tyExtents={d => d.volume}\n\t\t\t\t\theight={100} origin={(w, h) => [0, h - 475]}\n\t\t\t\t>\n\t\t\t\t\t<YAxis axisAt=\"left\" orient=\"left\" ticks={5} tickFormat={format(\".2s\")}/>\n\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"left\"\n\t\t\t\t\t\torient=\"left\"\n\t\t\t\t\t\tdisplayFormat={format(\".4s\")} />\n\n\t\t\t\t\t<BarSeries yAccessor={d => d.volume} fill={d => d.close > d.open ? \"#6BA583\" : \"#FF0000\"} />\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={3}\n\t\t\t\t\tyExtents={[0, 100]}\n\t\t\t\t\theight={125} origin={(w, h) => [0, h - 375]} padding={{ top: 10, bottom: 10 }}\n\t\t\t\t>\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" showTicks={false} outerTickSize={0} />\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\"\n\t\t\t\t\t\ttickValues={[20, 50, 80]} />\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\n\n\t\t\t\t\t<StochasticSeries\n\t\t\t\t\t\tyAccessor={d => d.fastSTO}\n\t\t\t\t\t\t{...stoAppearance} />\n\t\t\t\t\t<StochasticTooltip\n\t\t\t\t\t\torigin={[-38, 15]}\n\t\t\t\t\t\tyAccessor={d => d.slowSTO}\n\t\t\t\t\t\toptions={slowSTO.options()}\n\t\t\t\t\t\tappearance={stoAppearance}\n\t\t\t\t\t\tlabel=\"Slow STO\" />\n\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={4}\n\t\t\t\t\tyExtents={[0, 100]}\n\t\t\t\t\theight={125} origin={(w, h) => [0, h - 250]} padding={{ top: 10, bottom: 10 }}\n\t\t\t\t>\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" showTicks={false} outerTickSize={0} />\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\"\n\t\t\t\t\t\ttickValues={[20, 50, 80]} />\n\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\n\n\t\t\t\t\t<StochasticSeries\n\t\t\t\t\t\tyAccessor={d => d.slowSTO}\n\t\t\t\t\t\t{...stoAppearance} />\n\n\t\t\t\t\t<StochasticTooltip\n\t\t\t\t\t\torigin={[-38, 15]}\n\t\t\t\t\t\tyAccessor={d => d.fastSTO}\n\t\t\t\t\t\toptions={fastSTO.options()}\n\t\t\t\t\t\tappearance={stoAppearance}\n\t\t\t\t\t\tlabel=\"Fast STO\" />\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={5}\n\t\t\t\t\tyExtents={[0, 100]}\n\t\t\t\t\theight={125} origin={(w, h) => [0, h - 125]} padding={{ top: 10, bottom: 10 }}\n\t\t\t\t>\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" {...xGrid} />\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\"\n\t\t\t\t\t\ttickValues={[20, 50, 80]} />\n\n\t\t\t\t\t<MouseCoordinateX\n\t\t\t\t\t\tat=\"bottom\"\n\t\t\t\t\t\torient=\"bottom\"\n\t\t\t\t\t\tdisplayFormat={timeFormat(\"%Y-%m-%d\")} />\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={format(\".2f\")} />\n\t\t\t\t\t<StochasticSeries\n\t\t\t\t\t\tyAccessor={d => d.fullSTO}\n\t\t\t\t\t\t{...stoAppearance} />\n\n\t\t\t\t\t<StochasticTooltip\n\t\t\t\t\t\torigin={[-38, 15]}\n\t\t\t\t\t\tyAccessor={d => d.fullSTO}\n\t\t\t\t\t\toptions={fullSTO.options()}\n\t\t\t\t\t\tappearance={stoAppearance}\n\t\t\t\t\t\tlabel=\"Full STO\" />\n\t\t\t\t</Chart>\n\t\t\t\t<CrossHairCursor />\n\t\t\t</ChartCanvas>\n\t\t);\n\t}\n}\nCandleStickChartWithFullStochasticsIndicator.propTypes = {\n\tdata: PropTypes.array.isRequired,\n\twidth: PropTypes.number.isRequired,\n\tratio: PropTypes.number.isRequired,\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n};\n\nCandleStickChartWithFullStochasticsIndicator.defaultProps = {\n\ttype: \"svg\",\n};\n\nCandleStickChartWithFullStochasticsIndicator = fitWidth(CandleStickChartWithFullStochasticsIndicator);\n\nexport default CandleStickChartWithFullStochasticsIndicator;\n","import React, { Component } from 'react';\nimport { chartRange } from '../Adapter';\nimport { Button } from 'semantic-ui-react'\nimport { v4 } from 'uuid';\n\n\n\nclass RangePicker extends Component {\n\n    handleClick=(event, {name})=>{\n        // console.log(name)\n        this.props.selectRange(name);\n    }\n\n    generateButton =()=>{\n        return chartRange.map(e=>{\n            return <Button key={v4()} onClick={this.handleClick} name={e}>{e.toUpperCase()}</Button>\n        })\n    }\n    render() {\n\n        return (\n            <div>\n                  <Button.Group>\n                    {this.generateButton()}\n                </Button.Group>\n            </div>\n        );\n    }\n}\n\nexport default RangePicker;","import React, { Component } from 'react';\nimport MainChart from './MainChart';\nimport { parseData } from '../Utility';\nimport { handleErrors , getChart} from '../Adapter';\nimport RangePicker from './RangePicker';\nimport AutoSearch from './AutoSearch';\nimport debounce from 'lodash/debounce';\n\n\nclass MainChartContainer extends Component {\n    state={\n        chartData: [],\n        range:\"6m\",\n        symbol:'aapl'\n    }\n\n    componentDidMount(){\n        this.getChartData(this.state.symbol)\n    }\n\n    selectRange=(range)=>{\n        console.log(\"range\", range)\n        this.setState({range}, ()=>this.getChartData(this.state.symbol, range))\n    }\n\n    setSymbol=(symbol)=>{\n        this.setState({symbol}, ()=>this.getChartData(this.state.symbol))\n    }\n\n    getChartData= debounce((symbol, range=\"6m\")=>{\n        // console.log(\"gets called\", symbol)\n        getChart(symbol, range)\n        .then(handleErrors)\n        .then( d=> {\n            let data = parseData(d);\n            // console.log(data)\n            this.setState({chartData:data})\n        })\n        .catch(e=>{\n            this.setState({chartData:[]})\n            console.log(\"invalid symbol\");\n        })\n    }, 500)\n\n\n    render() {\n        // console.log( this.state.chartData.length)\n        return (\n            <div>\n                <AutoSearch    setSymbol={this.setSymbol}\n                    searchData = {this.props.searchData}/>\n\n                {this.state.chartData.length > 0?\n                <div>\n                <RangePicker selectRange={this.selectRange}/>\n                <MainChart data={this.state.chartData}/>\n                </div>\n                : null\n                }\n            </div>\n        );\n    }\n}\n\nexport default MainChartContainer;","import React, { Component } from 'react';\nimport { fetchUserInfo, handleErrors, getSymbols  } from '../Adapter';\nimport NavBar from './Navbar';\nimport Home from './Home';\nimport Login from './Login';\nimport Signup from './Signup';\nimport Trades from './Trades';\nimport Portfolio from './Portfolio';\nimport MainChartContainer from './MainChartContainer';\n\nclass Container extends Component {\n    state = { \n        activeItem: 'home',\n        userID:null,\n        userEmail:null,\n        userName:null,\n        stocks:[],\n        balance:null,\n        searchData:[]\n     }\n\n     componentDidMount(){\n        this.checkToken()\n        this.getAllSymbols()\n     }\n\n     componentWillUnmount(){\n        this.clearState();\n     }\n\n     clearState=()=>{\n        this.setState({\n            activeItem: 'home',\n            userID:null,\n            userEmail:null,\n            userName:null,\n            stocks:[],\n            balance:null\n         })\n     }\n\n     getAllSymbols=()=>{\n        getSymbols()\n            .then(handleErrors)\n            .then(data=> this.setState({searchData: data.map(this.parseSymbols)}))\n            .catch(()=> console.log(\"FETCH SYMBOLS ERROR!!!\"))\n     }\n\n     parseSymbols=(data)=>{\n         return {\n             title:data.symbol,\n             name:data.name\n         }\n     }\n\n     afterTrade=(data)=>{\n         console.log(\"====afterTrade=====\")\n         const userInfo={id:this.state.userID, email:this.state.userEmail};\n         this.saveDataToState(data, userInfo);\n\n        // console.log(data)\n        // this.setState(data)\n     }\n\n\n\n     checkToken=()=>{\n        let token = localStorage.getItem('token');\n        if(token){\n            this.parseToken(token)\n        }else{\n            this.clearState();\n        }\n     }\n\n     saveDataToState=(data, userInfo)=>{\n        this.setState({\n            userID:userInfo.id,\n            userEmail:userInfo.email,\n            userName:data.user.charAt(0).toUpperCase() + data.user.slice(1),\n            stocks:data.stocks,\n            balance:data.balance\n\n        },()=> console.log())\n     }\n\n     parseToken=(token)=>{\n         let userInfo = JSON.parse(atob(token.split(\".\")[1]))\n\n         fetchUserInfo(token, userInfo.id)\n            .then(handleErrors)\n            .then((d)=> this.saveDataToState(d, userInfo))\n            .catch(d=>console.log(\"TOKEN ERROR! CANT FETCH USER INFO!\"))\n         console.log()\n     }\n    \n    handleBackHome=()=>{\n        this.setState({activeItem:'home'}, ()=>this.checkToken())\n    }\n\n    handleLogout=()=>{\n        localStorage.removeItem('token');\n        this.checkToken();\n        // console.log(\"logout\")\n    }\n\n    handleMenu=(name) => this.setState({ activeItem: name })\n\n\n    displayContent=() =>{\n\n        switch (this.state.activeItem) {\n            case \"home\":\n                return < Home \n                    userID={this.state.userID}\n                    userName={this.state.userName}\n                    searchData={this.state.searchData}\n                    />\n\n            case \"portfolio\":\n                if(!this.state.userID) return < Home />;\n                return < Portfolio \n                            balance={this.state.balance}\n                            userID={this.state.userID}\n                            stocks={this.state.stocks} \n                            searchData={this.state.searchData}\n                            afterTrade={this.afterTrade}/>\n            case \"charts\":\n                if(!this.state.userID) return < Home />;\n                return <MainChartContainer \n                    searchData={this.state.searchData}\n                    />;\n            case \"trades\":\n                if(!this.state.userID) return < Home />;\n\n                return < Trades userID={this.state.userID}\n                        />\n\n            case \"login\":\n                return < Login backToHome={this.handleBackHome}/>\n\n            case \"signup\":\n                return < Signup backToHome={this.handleBackHome}/>\n\n            default: \n                return < Home />\n        }\n    }\n\n\n\n    render() {\n        \n        return (\n            <div>\n                <NavBar \n                    handleMenu={this.handleMenu}\n                    activeItem={this.state.activeItem}\n                    userName={this.state.userName}\n                    handleLogout={this.handleLogout}\n\n                    />\n                \n                {this.displayContent()}\n            </div>\n        );\n    }\n}\n\nexport default Container;","import React, { Component } from 'react';\nimport './App.css';\nimport Container from './components/Container'\n// import NavBar from './components/Navbar'\n\nclass App extends Component {\n  render() {\n    const height = window.innerHeight;\n    return (\n      <div className=\"App\" style={{height}}>\n \n        <Container />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'semantic-ui-css/semantic.min.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}